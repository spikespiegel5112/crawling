{"version":3,"sources":["webpack:///./src/views/login/index.vue?822b","webpack:///./src/views/login/index.vue?423f","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?5b56","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?732c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","loginForm","loginRules","_v","_e","model","value","callback","$$v","$set","expression","pwdType","nativeOn","$event","type","indexOf","_k","keyCode","key","handleLogin","apply","arguments","on","showPwd","staticStyle","loading","preventDefault","staticRenderFns","component"],"mappings":"yIAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,YAAYD,YAAY,aAAaE,MAAM,CAAC,aAAe,KAAK,MAAQR,EAAIS,UAAU,MAAQT,EAAIU,WAAW,iBAAiB,UAAU,CAACN,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIW,GAAG,QAASX,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACN,EAAIW,GAAG,YAAYX,EAAIY,OAAOR,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,aAAa,CAACJ,EAAG,OAAO,CAACE,YAAY,qCAAqC,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,WAAW,GAAGJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,KAAO,OAAO,aAAe,KAAK,YAAc,YAAYK,MAAM,CAACC,MAAOd,EAAIS,UAAkB,SAAEM,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIS,UAAW,WAAYO,IAAME,WAAW,yBAAyB,GAAGd,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,aAAa,CAACJ,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,eAAe,GAAGJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,KAAOR,EAAImB,QAAQ,aAAe,KAAK,YAAc,YAAYC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQvB,EAAIwB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAc1B,EAAI2B,YAAYC,MAAM,KAAMC,aAAahB,MAAM,CAACC,MAAOd,EAAIS,UAAkB,SAAEM,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIS,UAAW,WAAYO,IAAME,WAAW,wBAAwBd,EAAG,OAAO,CAACE,YAAY,WAAWwB,GAAG,CAAC,MAAQ9B,EAAI+B,UAAU,CAAC3B,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,UAAU,IAAI,GAAGJ,EAAG,eAAe,CAACA,EAAG,YAAY,CAAC4B,YAAY,CAAC,MAAQ,QAAQxB,MAAM,CAAC,KAAO,UAAU,QAAUR,EAAIiC,SAASb,SAAS,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOa,iBAAwBlC,EAAI2B,YAAYC,MAAM,KAAMC,cAAc,CAAC7B,EAAIW,GAAG,gBAAgB,IAAI,IAAI,IACzuDwB,EAAkB,GCyCtB,G,UAAA,CACE,KAAF,QACE,KAFF,WAUI,IAAJ,kBACA,WACQ,EAAR,uBAEQ,KAGJ,MAAJ,CACM,gBAAN,WACM,aAAN,kBACM,UAAN,CACQ,SAAR,GACQ,SAAR,GACQ,WAAR,YAEM,WAAN,CACQ,SAAR,EAAU,UAAV,EAAU,QAAV,WACQ,SAAR,EAAU,UAAV,EAAU,QAAV,SAAU,UAAV,KAEM,SAAN,EACM,QAAN,aAGE,QAAF,CACI,QADJ,WAEA,0BACQ,KAAR,WAEQ,KAAR,oBAGI,YARJ,WAQM,IAAN,OACM,KAAN,sCACQ,IAAR,EAwDU,OADA,QAAV,uBACA,EAvDU,EAAV,cAAY,KAAZ,aCtF8V,I,kCCS1VC,EAAY,eACd,EACArC,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,kECpBf","file":"js/chunk-37dd7040.38f0ee20.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-position\":\"right\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\" 趣谷 \"),(_vm.$prodEnv)?_c('div',{staticClass:\"common_environmenthint_item\"},[_vm._v(\" 测试环境 \")]):_vm._e()]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('span',{staticClass:\"svg-container svg-container_login\"},[_c('svg-icon',{attrs:{\"icon-class\":\"user\"}})],1),_c('el-input',{attrs:{\"name\":\"username\",\"type\":\"text\",\"autoComplete\":\"on\",\"placeholder\":\"username\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"icon-class\":\"password\"}})],1),_c('el-input',{attrs:{\"name\":\"password\",\"type\":_vm.pwdType,\"autoComplete\":\"on\",\"placeholder\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin.apply(null, arguments)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}}),_c('span',{staticClass:\"show-pwd\",on:{\"click\":_vm.showPwd}},[_c('svg-icon',{attrs:{\"icon-class\":\"eye\"}})],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_vm._v(\" Sign in \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-container\">\n    <el-form class=\"login-form\" autoComplete=\"on\" :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\"\n            label-position=\"right\">\n      <h3 class=\"title\">\n        趣谷\n        <div class=\"common_environmenthint_item\" v-if=\"$prodEnv\">\n          测试环境\n        </div>\n      </h3>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container svg-container_login\">\n          <svg-icon icon-class=\"user\"/>\n        </span>\n        <el-input name=\"username\" type=\"text\" v-model=\"loginForm.username\" autoComplete=\"on\" placeholder=\"username\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"password\"></svg-icon>\n        </span>\n        <el-input name=\"password\" :type=\"pwdType\" @keyup.enter.native=\"handleLogin\" v-model=\"loginForm.password\"\n                  autoComplete=\"on\"\n                  placeholder=\"password\"></el-input>\n        <span class=\"show-pwd\" @click=\"showPwd\"><svg-icon icon-class=\"eye\"/></span>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" :loading=\"loading\" @click.native.prevent=\"handleLogin\" style=\"width:100%\">\n          Sign in\n        </el-button>\n      </el-form-item>\n      <!-- <div class=\"tips\">\n        <span style=\"margin-right:20px;\">username: admin</span>\n        <span> password: admin</span>\n      </div> -->\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import Cookies from 'js-cookie'\n\n  export default {\n    name: 'login',\n    data() {\n      // const validateUsername = (rule, value, callback) => {\n      //   if (!isvalidUsername(value)) {\n      //     callback(new Error('请输入正确的用户名'))\n      //   } else {\n      //     callback()\n      //   }\n      // }\n      const validatePass = (rule, value, callback) => {\n        if (value.length < 5) {\n          callback(new Error('密码不能小于5位'))\n        } else {\n          callback()\n        }\n      };\n      return {\n        userInfoRequest: 'uaa/user',\n        loginRequest: 'uaa/oauth/token',\n        loginForm: {\n          username: '',\n          password: '',\n          'grant_type': 'password'\n        },\n        loginRules: {\n          username: [{required: true, trigger: 'change'}],\n          password: [{required: true, trigger: 'change', validator: validatePass}]\n        },\n        loading: false,\n        pwdType: 'password'\n      }\n    },\n    methods: {\n      showPwd() {\n        if (this.pwdType === 'password') {\n          this.pwdType = ''\n        } else {\n          this.pwdType = 'password'\n        }\n      },\n      handleLogin() {\n        this.$refs.loginForm.validate(valid => {\n          if (valid) {\n            this.$router.push({path: '/'})\n            // this.loading = true;\n            // this.$http.post(this.$baseUrl + this.loginRequest, this.loginForm, {\n            //   headers: {\n            //     'Content-Type': 'application/x-www-form-urlencoded',\n            //     'Authorization': 'Basic YW5kcm9pZDphZG1pbg=='\n            //   },\n            //   transformRequest: [function (data) {\n            //     let ret = '';\n            //     for (let it in data) {\n            //       ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\n            //     }\n            //     return ret\n            //   }],\n            // }).then(response => {\n            //   console.log(response)\n            //\n            //   Cookies.set('Admin-Token', response.access_token);\n            //   Cookies.set('Admin-Login-Id', this.loginForm.username);\n            //\n            //   this.$store.commit('SET_TOKEN', response.access_token);\n            //   this.$store.commit('SET_LOGIN_ID', this.loginForm.username);\n            //\n            //\n            //   this.$http.get(this.$baseUrl + this.userInfoRequest, {\n            //     headers: {\n            //       'Content-Type': 'application/x-www-form-urlencoded',\n            //     },\n            //     params: {\n            //       access_token: response.access_token\n            //     }\n            //   }).then(response => {\n            //     console.log(response)\n            //\n            //     this.loading = false;\n            //     if (response.authorities.filter(item => item.authority === 'admin').length > 0) {\n            //       this.$router.push({path: '/'})\n            //     } else {\n            //       this.$message.error('此账号无管理员权限')\n            //     }\n            //   }).catch(error => {\n            //     console.log(response.access_token)\n            //     this.$message.error('dsds')\n            //   })\n            //\n            // }).catch(error => {\n            //   console.log(error)\n            //   this.loading = false\n            //   this.$message({\n            //     message: '账号密码错误',\n            //     type: 'error'\n            //   })\n            // })\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n  $bg: #2d3a4b;\n  $light_gray: #eee;\n\n  /* reset element-ui css */\n  .login-container {\n    .el-input {\n      display: inline-block;\n      height: 47px;\n      width: 85%;\n      input {\n        background: transparent;\n        border: 0px;\n        -webkit-appearance: none;\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: $light_gray;\n        height: 47px;\n        &:-webkit-autofill {\n          -webkit-box-shadow: 0 0 0px 1000px $bg inset !important;\n          -webkit-text-fill-color: #fff !important;\n        }\n      }\n    }\n    .el-form-item {\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      color: #454545;\n    }\n  }\n\n</style>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  $bg: #2d3a4b;\n  $dark_gray: #889aa4;\n  $light_gray: #eee;\n  .login-container {\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: $bg;\n    .login-form {\n      position: absolute;\n      left: 0;\n      right: 0;\n      width: 520px;\n      padding: 35px 35px 15px 35px;\n      margin: 120px auto;\n    }\n    .tips {\n      font-size: 14px;\n      color: #fff;\n      margin-bottom: 10px;\n      span {\n        &:first-of-type {\n          margin-right: 16px;\n        }\n      }\n    }\n    .svg-container {\n      padding: 6px 5px 6px 15px;\n      color: $dark_gray;\n      vertical-align: middle;\n      width: 30px;\n      display: inline-block;\n      &_login {\n        font-size: 20px;\n      }\n    }\n    .title {\n      font-size: 26px;\n      font-weight: 400;\n      color: $light_gray;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n    }\n    .show-pwd {\n      position: absolute;\n      right: 10px;\n      top: 7px;\n      font-size: 16px;\n      color: $dark_gray;\n      cursor: pointer;\n      user-select: none;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8ea25bc2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=8ea25bc2&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ea25bc2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=8ea25bc2&rel=stylesheet%2Fscss&lang=scss&scoped=true&\""],"sourceRoot":""}