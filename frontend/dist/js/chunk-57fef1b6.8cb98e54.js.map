{"version":3,"sources":["webpack:///./src/views/crawling/MaoyanRankingListWantToSeeList.vue?b794","webpack:///src/views/crawling/MaoyanRankingListWantToSeeList.vue","webpack:///./src/views/crawling/MaoyanRankingListWantToSeeList.vue?8419","webpack:///./src/views/crawling/MaoyanRankingListWantToSeeList.vue","webpack:///./src/views/crawling/MaoyanRankingListWantToSeeList.vue?0ee6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","slot","directives","name","rawName","attrs","on","$event","stepCrawlFlag","_v","type","indexOf","_k","keyCode","key","search","apply","arguments","value","queryModel","expression","domProps","target","composing","$set","modifiers","tableList","tableHeight","handleSelectionChange","scopedSlots","_u","fn","scope","_s","$moment","Number","row","timestamp","format","checkDescription","pagination","page","limit","total","handleCurrentChange","handleSizeChange","textMap","dialogStatus","oneKeyCrawlFlag","ref","formData","rules","chooseRewardType","model","callback","$$v","_l","item","code","$t","crawlerData","getAllCrawlingIndex","preSaleWantToSeeListData","length","crawlingFlag","stopCrawling","beginToCrawRankingListMovieData","crawlingCount","staticStyle","save","rankingListCountLimit","handleChangeCounter","rankingListData","Math","floor","style","filter","disabled","index","color","recordTime","movieId","title","detailSuccess","moreSectionsSuccess","rankingListRatingSuccess","rankingListWantToSeePortraitSuccess","rankingListBoxOfficeGlobalSuccess","staticRenderFns","component"],"mappings":"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","file":"js/chunk-57fef1b6.8cb98e54.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"app-container\"},[_c('CommonQuery',[_c('template',{slot:\"button1\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.stepCrawlFlag=true}}},[_vm._v(\" 查看数据 \")])],1),_c('template',{slot:\"query1\"},[_c('div',{staticClass:\"common_search_wrapper\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search.apply(null, arguments)}}},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.queryModel.brandName),expression:\"queryModel.brandName\"}],attrs:{\"placeholder\":\"请输入游戏名称\",\"type\":\"text\"},domProps:{\"value\":(_vm.queryModel.brandName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.queryModel, \"brandName\", $event.target.value)}}})]),_c('a',[_c('span',{staticClass:\"el-icon-search\",on:{\"click\":_vm.search}})])])])],2),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.tableList,\"height\":_vm.tableHeight,\"border\":\"\",\"element-loading-text\":\"Loading\",\"fit\":\"\",\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"fixed\":\"\",\"label\":\"No\",\"type\":\"index\",\"width\":\"45\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"电影名称（中文）\",\"prop\":\"titleChi\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"电影名称（原文）\",\"prop\":\"title\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"抓取时间\",\"prop\":\"timestamp\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.$moment(Number(scope.row.timestamp)).format('YYYY-MM-DD HH:mm:ss'))+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"上映时间\",\"prop\":\"releaseDate\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"平台名称（英文）\",\"prop\":\"platformEngName\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"平台名称（中文）\",\"prop\":\"platformChineseName\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"平台类型\",\"prop\":\"platformType\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看数量\",\"prop\":\"numWantToSee\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"描述\",\"prop\":\"description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{on:{\"click\":function($event){return _vm.checkDescription(scope)}}},[_vm._v(\"查看\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看男性受众占比\",\"prop\":\"wantToSeeByGenderMale\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看女性受众占比\",\"prop\":\"wantToSeeByGenderFemale\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看20岁以下占比\",\"prop\":\"wantToSeeByAge20\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看20到24岁占比\",\"prop\":\"wantToSeeByAge20To24\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看25到29岁占比\",\"prop\":\"wantToSeeByAge25To29\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看30到34岁占比\",\"prop\":\"wantToSeeByAge30To34\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看35到39岁占比\",\"prop\":\"wantToSeeByAge35To39\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看40岁以上占比\",\"prop\":\"wantToSeeByAge40\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看一线城市占比\",\"prop\":\"wantToSeeByTier1\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看二线城市占比\",\"prop\":\"wantToSeeByTier2\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看三线城市占比\",\"prop\":\"wantToSeeByTier3\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"想看四线城市占比\",\"prop\":\"wantToSeeByTier4\"}})],1),_c('div',{staticClass:\"common_pagination_wrapper\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.page,\"page-size\":_vm.pagination.limit,\"page-sizes\":[10,20,30,50,100],\"total\":_vm.total,\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"page\", $event)},\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.oneKeyCrawlFlag,\"width\":\"850px\"},on:{\"update:visible\":function($event){_vm.oneKeyCrawlFlag=$event}}},[_c('el-row',{attrs:{\"justify\":\"center\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"爬虫类型\",\"prop\":\"rewardType\"}},[_c('el-select',{attrs:{\"placeholder\":\"\"},on:{\"change\":_vm.chooseRewardType},model:{value:(_vm.formData.rewardType),callback:function ($$v) {_vm.$set(_vm.formData, \"rewardType\", $$v)},expression:\"formData.rewardType\"}},_vm._l((_vm.settingsList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"爬虫地址\",\"prop\":\"crawlerAddress\"}},[_c('el-input',{model:{value:(_vm.formData.crawlerAddress),callback:function ($$v) {_vm.$set(_vm.formData, \"crawlerAddress\", $$v)},expression:\"formData.crawlerAddress\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.oneKeyCrawlFlag = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.crawlerData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.stepCrawlFlag,\"top\":\"1vh\",\"width\":\"1600px\"},on:{\"update:visible\":function($event){_vm.stepCrawlFlag=$event}}},[_c('el-row',{attrs:{\"gutter\":1}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getAllCrawlingIndex}},[_vm._v(\" \"+_vm._s(_vm.preSaleWantToSeeListData.length===0?'获取索引':'重新获取索引')+\" \")])],1),_c('el-col',{attrs:{\"span\":2}},[(!_vm.crawlingFlag)?_c('el-button',{attrs:{\"disabled\":_vm.preSaleWantToSeeListData.length===0,\"type\":\"primary\"},on:{\"click\":_vm.beginToCrawRankingListMovieData}},[_vm._v(\" \"+_vm._s(_vm.crawlingCount===0?'开始抓取':'重新抓取')+\" \")]):_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.stopCrawling}},[_vm._v(\"停止抓取\")])],1),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":20}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1),_c('el-divider'),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-row',{attrs:{\"justify\":\"left\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input-number',{attrs:{\"min\":0},model:{value:(_vm.rankingListCountLimit),callback:function ($$v) {_vm.rankingListCountLimit=$$v},expression:\"rankingListCountLimit\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleChangeCounter}},[_vm._v(\"确定\")])],1),_c('el-col',{attrs:{\"span\":3}})],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-progress',{attrs:{\"percentage\":_vm.rankingListData.length!==0?Math.floor(_vm.crawlingCount/_vm.rankingListData.length*100):0,\"stroke-width\":20,\"text-inside\":true,\"status\":\"success\"}}),_c('el-divider',[_c('el-row',[(_vm.rankingListData.length>0&&_vm.crawlingCount<_vm.rankingListData.length)?_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" 共有\"+_vm._s(_vm.rankingListData.length)+\"条数据，正在抓取第\"+_vm._s(_vm.crawlingCount)+\"条... \")]):_c('el-col',{attrs:{\"span\":24}},[_vm._v(\" 共有\"+_vm._s(_vm.rankingListData.length)+\"条数据，抓取完毕 \")])],1)],1),_c('el-row',{attrs:{\"justify\":\"left\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-timeline',{style:(_vm.crawlerStyle)},_vm._l((_vm.rankingListData.filter(function (item){ return !item.disabled; })),function(item,index){return _c('el-timeline-item',{key:index,staticClass:\"timelineitem\",attrs:{\"color\":item.color==='success'?'#91d929':'#e4e7ed',\"timestamp\":item.recordTime,\"placement\":\"top\"}},[_c('el-card',{attrs:{\"shadow\":\"hover\"}},[_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":1}},[_vm._v(\"第\"+_vm._s(index+1)+\"条\")]),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":1}},[_vm._v(_vm._s(item.movieId))]),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":4}},[_vm._v(_vm._s(item.title))]),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\" 详情: \"),(item.detailSuccess===0)?_c('i',{}):(item.detailSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})]),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\" 更多: \"),(item.moreSectionsSuccess===0)?_c('i',{}):(item.moreSectionsSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})]),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\" 评分: \"),(item.rankingListRatingSuccess===0)?_c('i',{}):(item.rankingListRatingSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})]),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\" 想看: \"),(item.rankingListWantToSeePortraitSuccess===0)?_c('i',{}):(item.rankingListWantToSeePortraitSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})]),_c('el-col',{attrs:{\"span\":2}},[_vm._v(\" 首映日票房: \"),(item.rankingListWantToSeePortraitSuccess===0)?_c('i',{}):(item.rankingListWantToSeePortraitSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})]),_c('el-col',{attrs:{\"span\":2}},[_vm._v(\" 全球票房: \"),(item.rankingListBoxOfficeGlobalSuccess===0)?_c('i',{}):(item.rankingListBoxOfficeGlobalSuccess===1)?_c('i',{staticClass:\"el-icon-check success\"}):_c('i',{staticClass:\"el-icon-close failed\"})])],1)],1)],1)}),1)],1)],1)],1)],1)],1)],1)],1),_c('el-row',{attrs:{\"justify\":\"space-between\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":21}}),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.stepCrawlFlag=false}}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-row class=\"app-container\">\r\n    <CommonQuery>\r\n      <template slot=\"button1\">\r\n        <el-button @click=\"stepCrawlFlag=true\" icon=\"el-icon-plus\" size=\"mini\" type=\"primary\" v-waves>\r\n          查看数据\r\n        </el-button>\r\n        <!--        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"oneKeyCrawlFlag=true\" v-waves>-->\r\n        <!--          一键抓取-->\r\n        <!--        </el-button>-->\r\n        <!--        <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"handleMultipleDelete\" v-waves>-->\r\n        <!--          批量删除-->\r\n        <!--        </el-button>-->\r\n      </template>\r\n      <template slot=\"query1\">\r\n        <div @keyup.enter=\"search\" class=\"common_search_wrapper\">\r\n          <label>\r\n            <input placeholder=\"请输入游戏名称\" type=\"text\" v-model=\"queryModel.brandName\"/>\r\n          </label>\r\n          <a>\r\n            <span @click=\"search\" class=\"el-icon-search\"></span>\r\n          </a>\r\n        </div>\r\n      </template>\r\n    </CommonQuery>\r\n\r\n    <el-table :data=\"tableList\" :height=\"tableHeight\" @selection-change=\"handleSelectionChange\"\r\n              border\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              v-loading.body=\"listLoading\"\r\n    >\r\n      <!--      <el-table-column type=\"selection\" width=\"30\" fixed=\"left\"></el-table-column>-->\r\n      <el-table-column align=\"center\" fixed label=\"No\" type=\"index\" width=\"45\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"电影名称（中文）\" prop='titleChi' width=\"100\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"电影名称（原文）\" prop='title' width=\"100\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"抓取时间\" prop='timestamp' width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          {{$moment(Number(scope.row.timestamp)).format('YYYY-MM-DD HH:mm:ss')}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"上映时间\" prop='releaseDate'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"平台名称（英文）\" prop='platformEngName'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"平台名称（中文）\" prop='platformChineseName'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"平台类型\" prop='platformType'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看数量\" prop='numWantToSee'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"描述\" prop='description'>\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"checkDescription(scope)\">查看</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n\r\n      <el-table-column align=\"center\" label=\"想看男性受众占比\" prop='wantToSeeByGenderMale'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看女性受众占比\" prop='wantToSeeByGenderFemale'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看20岁以下占比\" prop='wantToSeeByAge20'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看20到24岁占比\" prop='wantToSeeByAge20To24'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看25到29岁占比\" prop='wantToSeeByAge25To29'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看30到34岁占比\" prop='wantToSeeByAge30To34'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看35到39岁占比\" prop='wantToSeeByAge35To39'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看40岁以上占比\" prop='wantToSeeByAge40'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看一线城市占比\" prop='wantToSeeByTier1'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看二线城市占比\" prop='wantToSeeByTier2'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看三线城市占比\" prop='wantToSeeByTier3'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"想看四线城市占比\" prop='wantToSeeByTier4'></el-table-column>\r\n\r\n\r\n      <!--      <el-table-column align=\"center\" label=\"操作\" width=\"100px\" fixed=\"right\">-->\r\n      <!--        <template slot-scope=\"scope\">-->\r\n      <!--          <el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope)\">删除</el-button>-->\r\n      <!--        </template>-->\r\n      <!--      </el-table-column>-->\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"common_pagination_wrapper\">\r\n      <el-pagination :current-page.sync=\"pagination.page\" :page-size=\"pagination.limit\"\r\n                     :page-sizes=\"[10,20,30,50,100]\"\r\n                     :total=\"total\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     background\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 编辑 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"oneKeyCrawlFlag\" width=\"850px\">\r\n\r\n      <el-row justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"20\">\r\n\r\n          <el-form :model=\"formData\" :rules=\"rules\" label-position=\"right\"\r\n                   label-width=\"140px\"\r\n                   ref=\"formData\">\r\n            <el-form-item label=\"爬虫类型\" prop=\"rewardType\">\r\n              <el-select @change=\"chooseRewardType\" placeholder='' v-model=\"formData.rewardType\">\r\n                <el-option :key=\"item.code\"\r\n                           :label=\"item.name\" :value=\"item.value\"\r\n                           v-for=\"item in settingsList\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"爬虫地址\" prop=\"crawlerAddress\">\r\n              <el-input v-model=\"formData.crawlerAddress\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"oneKeyCrawlFlag = false\" v-waves>{{$t('table.cancel')}}</el-button>\r\n        <el-button @click=\"crawlerData\" type=\"primary\" v-waves>{{$t('table.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!--    分步抓取-->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"stepCrawlFlag\" top=\"1vh\" width=\"1600px\">\r\n      <el-row :gutter=\"1\">\r\n        <el-col :span=\"2\">\r\n          <el-button @click=\"getAllCrawlingIndex\" type=\"primary\">\r\n            {{preSaleWantToSeeListData.length===0?'获取索引':'重新获取索引'}}\r\n          </el-button>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button :disabled=\"preSaleWantToSeeListData.length===0\" @click=\"beginToCrawRankingListMovieData\"\r\n                     type=\"primary\"\r\n                     v-if=\"!crawlingFlag\">\r\n            {{crawlingCount===0?'开始抓取':'重新抓取'}}\r\n          </el-button>\r\n          <el-button @click=\"stopCrawling\" type=\"danger\" v-else>停止抓取</el-button>\r\n        </el-col>\r\n\r\n        <el-col :span=\"20\" style=\"text-align: right\">\r\n          <el-button @click=\"save\" type=\"primary\">保存</el-button>\r\n        </el-col>\r\n\r\n      </el-row>\r\n      <el-divider></el-divider>\r\n      <el-row>\r\n\r\n        <el-col :span=\"24\">\r\n          <el-row justify=\"left\" type=\"flex\">\r\n\r\n            <el-col :span=\"14\">\r\n              <!--          {{rankingListCountLimit}}-->\r\n              <el-input-number :min=\"0\" v-model=\"rankingListCountLimit\"></el-input-number>\r\n              <el-button @click=\"handleChangeCounter\" type=\"primary\">确定</el-button>\r\n\r\n            </el-col>\r\n            <el-col :span=\"3\">\r\n            </el-col>\r\n\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-card shadow=\"never\">\r\n                <el-progress\r\n                  :percentage=\"rankingListData.length!==0?Math.floor(crawlingCount/rankingListData.length*100):0\"\r\n                  :stroke-width=\"20\"\r\n                  :text-inside=\"true\"\r\n                  status=\"success\"></el-progress>\r\n                <el-divider>\r\n                  <el-row>\r\n                    <el-col :span=\"24\" v-if=\"rankingListData.length>0&&crawlingCount<rankingListData.length\">\r\n                      共有{{rankingListData.length}}条数据，正在抓取第{{crawlingCount}}条...\r\n                    </el-col>\r\n                    <el-col :span=\"24\" v-else>\r\n                      共有{{rankingListData.length}}条数据，抓取完毕\r\n                    </el-col>\r\n                  </el-row>\r\n                </el-divider>\r\n                <el-row justify=\"left\" type=\"flex\">\r\n                  <el-col :span=\"24\">\r\n                    <!--          {{preSaleWantToSeeListData}}-->\r\n                    <el-timeline :style=\"crawlerStyle\">\r\n                      <el-timeline-item :color=\"item.color==='success'?'#91d929':'#e4e7ed'\"\r\n                                        :key=\"index\"\r\n                                        :timestamp=\"item.recordTime\"\r\n                                        class=\"timelineitem\"\r\n                                        placement=\"top\"\r\n                                        v-for=\"(item, index) in rankingListData.filter(item=>!item.disabled)\"\r\n                      >\r\n                        <el-card shadow=\"hover\">\r\n                          <el-row>\r\n                            <el-col :span=\"1\" style=\"text-align: left\">第{{index+1}}条</el-col>\r\n                            <el-col :span=\"1\" style=\"text-align: left\">{{item.movieId}}</el-col>\r\n                            <el-col :span=\"4\" style=\"text-align: left\">{{item.title}}</el-col>\r\n                            <el-col :span=\"1\">\r\n                              详情: <i class=\"\" v-if=\"item.detailSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\" v-else-if=\"item.detailSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.detailSuccess===2\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"1\">\r\n                              更多: <i class=\"\" v-if=\"item.moreSectionsSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\" v-else-if=\"item.moreSectionsSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.moreSectionsSuccess===2\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"1\">\r\n                              评分: <i class=\"\" v-if=\"item.rankingListRatingSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\" v-else-if=\"item.rankingListRatingSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.rankingListRatingSuccess===2\"></i>\r\n                            </el-col>\r\n\r\n                            <el-col :span=\"1\">\r\n                              想看: <i class=\"\" v-if=\"item.rankingListWantToSeePortraitSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\"\r\n                                 v-else-if=\"item.rankingListWantToSeePortraitSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.rankingListWantToSeePortraitSuccess===2\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"2\">\r\n                              首映日票房: <i class=\"\" v-if=\"item.rankingListWantToSeePortraitSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\"\r\n                                 v-else-if=\"item.rankingListWantToSeePortraitSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.rankingListWantToSeePortraitSuccess===2\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"2\">\r\n                              全球票房: <i class=\"\" v-if=\"item.rankingListBoxOfficeGlobalSuccess===0\"></i>\r\n                              <i class=\"el-icon-check success\"\r\n                                 v-else-if=\"item.rankingListBoxOfficeGlobalSuccess===1\"></i>\r\n                              <i class=\"el-icon-close failed\" v-else=\"item.rankingListBoxOfficeGlobalSuccess===2\"></i>\r\n                            </el-col>\r\n\r\n                          </el-row>\r\n                        </el-card>\r\n\r\n                      </el-timeline-item>\r\n                    </el-timeline>\r\n                  </el-col>\r\n                </el-row>\r\n\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n        </el-col>\r\n        <!--        <el-col :span=\"12\">-->\r\n        <!--          <el-row type=\"flex\" justify=\"left\">-->\r\n        <!--            <el-col :span=\"14\">-->\r\n        <!--              &lt;!&ndash;          {{rankingListCountLimit}}&ndash;&gt;-->\r\n        <!--              <el-input-number v-model=\"presaleCountLimit\" :min=\"0\"-->\r\n        <!--                               :max=\"preSaleWantToSeeListData.length\"></el-input-number>-->\r\n        <!--              <el-button type=\"primary\" @click=\"handleChangeCounter\">确定</el-button>-->\r\n\r\n        <!--            </el-col>-->\r\n\r\n        <!--          </el-row>-->\r\n        <!--          <el-row>-->\r\n        <!--            <el-col :span=\"24\">-->\r\n        <!--              <el-card shadow=\"never\">-->\r\n        <!--                <el-progress :text-inside=\"true\" :stroke-width=\"20\"-->\r\n        <!--                             :percentage=\"preSaleWantToSeeListData.length!==0?Math.floor(crawlingCount/preSaleWantToSeeListData.length*100):0\"-->\r\n        <!--                             status=\"success\"></el-progress>-->\r\n        <!--                <el-divider>-->\r\n        <!--                  <el-row>-->\r\n        <!--                    <el-col v-if=\"preSaleWantToSeeListData.length>0&&crawlingCount<preSaleWantToSeeListData.length\" :span=\"24\">-->\r\n        <!--                      共有{{preSaleWantToSeeListData.length}}条数据，正在抓取第{{crawlingCount}}条...-->\r\n        <!--                    </el-col>-->\r\n        <!--                    <el-col v-else :span=\"24\">-->\r\n        <!--                      共有{{preSaleWantToSeeListData.length}}条数据，抓取完毕-->\r\n        <!--                    </el-col>-->\r\n        <!--                  </el-row>-->\r\n        <!--                </el-divider>-->\r\n        <!--                <el-row class=\"\" type=\"flex\" justify=\"left\">-->\r\n        <!--                  <el-col :span=\"24\">-->\r\n        <!--                    &lt;!&ndash;          {{preSaleWantToSeeListData}}&ndash;&gt;-->\r\n        <!--                    <el-timeline :style=\"crawlerStyle\">-->\r\n        <!--                      <el-timeline-item v-for=\"(item, index) in preSaleWantToSeeListData.filter(item=>!item.disabled)\"-->\r\n        <!--                                        :key=\"index\"-->\r\n        <!--                                        :timestamp=\"item.recordTime\"-->\r\n        <!--                                        placement=\"top\"-->\r\n        <!--                                        :color=\"item.color==='success'?'#91d929':'#e4e7ed'\"-->\r\n        <!--                                        class=\"timelineitem\"-->\r\n        <!--                      >-->\r\n        <!--                        <el-card shadow=\"hover\">-->\r\n        <!--                          <el-row>-->\r\n        <!--                            <el-col :span=\"3\" style=\"text-align: left\">第{{index+1}}条</el-col>-->\r\n        <!--                            <el-col :span=\"4\">-->\r\n        <!--                              详情: <i v-if=\"item.detailSuccess===0\" class=\"\"></i>-->\r\n        <!--                              <i v-else-if=\"item.detailSuccess===1\" class=\"el-icon-check success\"></i>-->\r\n        <!--                              <i v-else=\"item.detailSuccess===2\" class=\"el-icon-close failed\"></i>-->\r\n        <!--                            </el-col>-->\r\n        <!--                            <el-col :span=\"4\">-->\r\n        <!--                              {{item.active}}-->\r\n        <!--                              画像: <i v-if=\"item.rankingListWantToSeePortraitSuccess===0\" class=\"\"></i>-->\r\n        <!--                              <i v-else-if=\"item.rankingListWantToSeePortraitSuccess===1\" class=\"el-icon-check success\"></i>-->\r\n        <!--                              <i v-else=\"item.rankingListWantToSeePortraitSuccess===2\" class=\"el-icon-close failed\"></i>-->\r\n        <!--                            </el-col>-->\r\n        <!--                          </el-row>-->\r\n        <!--                        </el-card>-->\r\n\r\n\r\n        <!--                      </el-timeline-item>-->\r\n        <!--                    </el-timeline>-->\r\n        <!--                  </el-col>-->\r\n        <!--                </el-row>-->\r\n\r\n        <!--              </el-card>-->\r\n        <!--            </el-col>-->\r\n        <!--          </el-row>-->\r\n        <!--        </el-col>-->\r\n      </el-row>\r\n\r\n\r\n      <el-row justify=\"space-between\" type=\"flex\">\r\n        <el-col :span=\"21\">\r\n        </el-col>\r\n        <el-col :span=\"3\" style=\"text-align: right\">\r\n          <el-button @click=\"stepCrawlFlag=false\" type=\"primary\">关闭</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\n  import CommonQuery from '@/views/common/CommonQuery.vue'\r\n\r\n  export default {\r\n    components: {\r\n      CommonQuery\r\n    },\r\n    data() {\r\n      return {\r\n        getListByPaginationRequest: 'crawlerMaoyanRankingList/getListByPagination',\r\n        crawlAndSaveRequest: 'crawlerMaoyanRankingList/crawlAndSave',\r\n        crawlRankinglistDetailRequest: 'crawlerMaoyanRankingList/crawlRankinglistDetail',\r\n        crawlRankingListMoreSectionsRequest: 'crawlerMaoyanRankingList/crawlRankingListMoreSections',\r\n        crawlRankingListRatingRequest: 'crawlerMaoyanRankingList/crawlRankingListRating',\r\n        crawlRankingListWantToSeePortraitRequest: 'crawlerMaoyanRankingList/crawlRankingListWantToSeePortrait',\r\n        crawlRankingListBoxOfficeBoxPremiereRequest: 'crawlerMaoyanRankingList/crawlRankingListBoxOfficeBoxPremiere',\r\n        crawlRankingListBoxOfficeGlobalRequest: 'crawlerMaoyanRankingList/crawlRankingListBoxOfficeGlobal',\r\n\r\n        crawlMoviePreSaleDetailRequest: 'crawlerMaoyanPreSale/crawlMoviePreSaleDetail',\r\n        crawlMoviePreSalePortraitRequest: 'crawlerMaoyanPreSale/crawlMoviePreSalePortrait',\r\n        deleteRecordRequest: 'crawlerMaoyanRankingList/deleteRecords',\r\n        getSettingsRequest: 'settings/getList',\r\n\r\n        crawlRankingListByYearRequest: 'crawlerMaoyanRankingList/crawlRankingListByYear',\r\n        crawlPreSaleMovieListRequest: 'crawlerMaoyanPreSale/crawlMovieList',\r\n        saveMultipleMaoyanRankingListRecordRequest: 'crawlerMaoyanRankingList/saveMultipleMaoyanRankingListRecord',\r\n        crawlerSettingFlag: false,\r\n        crawlerSetting: {\r\n          address: ''\r\n        },\r\n        chosenReward: '',\r\n        chooseRewardTypeModel: {},\r\n        chosenThirdPartyProductInfo: {},\r\n\r\n        value2: '',\r\n        value1: '',\r\n        dailyLimitMode: '',\r\n        limitMode: '',\r\n        tableKey: 0,\r\n        tableList: [],\r\n        total: null,\r\n        listLoading: true,\r\n        availabilityFlag: false,\r\n\r\n        statusDictionary: [{\r\n          code: 0,\r\n          name: '未上线'\r\n        }, {\r\n          code: 1,\r\n          name: '上线'\r\n        }],\r\n        queryModel: {\r\n          sort: 'desc',\r\n          brandName: ''\r\n        },\r\n        pagination: {\r\n          page: 1,\r\n          limit: 100\r\n        },\r\n        importanceOptions: [1, 2, 3],\r\n\r\n        sortOptions: [{ label: 'ID Ascending', key: '+id' }, { label: 'ID Descending', key: '-id' }],\r\n        statusOptions: ['published', 'draft', 'deleted'],\r\n        showReviewer: false,\r\n        formData: {\r\n          headerCode: 'maoyan',\r\n          crawlerAddress: ''\r\n        },\r\n        dialogFormVisible: false,\r\n        dialogStatus: '',\r\n        textMap: {\r\n          update: 'Edit',\r\n          create: 'Create'\r\n        },\r\n        dialogPvVisible: false,\r\n        rules: {\r\n          id: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          description: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          name: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          dailyLimit: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          limit: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          startDate: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          endDate: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          status: [{ required: true, message: '此项为必填项', trigger: 'change' }]\r\n        },\r\n        downloadLoading: false,\r\n        pickerOptions0: {\r\n          disabledDate: (time) => {\r\n            if (this.value2 !== '') {\r\n              return time.getTime() > this.value2\r\n            }\r\n          }\r\n        },\r\n        pickerOptions1: {\r\n          disabledDate: (time) => {\r\n            return time.getTime() < this.value1\r\n          }\r\n        },\r\n        fileList: [],\r\n        portraitParams: {\r\n          bucketName: 'funyvalley',\r\n          folderName: 'icon'\r\n        },\r\n        iosVersionListData: [],\r\n        androidVersionListData: [],\r\n        searchTxt: '',\r\n        expandQuery: '',\r\n        showFileListFlag: false,\r\n        newFile: '',\r\n        advertisementDialogFlag: false,\r\n        currentAdvertisementTabIndex: 0,\r\n        effectiveDuration: [],\r\n        multipleSelection: [],\r\n        oneKeyCrawlFlag: false,\r\n        stepCrawlFlag: false,\r\n        settingsList: [],\r\n        rankingListMovieData: [],\r\n        rankingListData: [],\r\n        crawlingCount: 0,\r\n        preSaleWantToSeeListData: [],\r\n        preSaleWantToSeeListMovieData: [],\r\n        crawlingFlag: false,\r\n        rankingListCountLimit: 0,\r\n        presaleCountLimit: 0\r\n\r\n      }\r\n    },\r\n    computed: {\r\n      tableHeight() {\r\n        return this.$store.state.app.tableHeight\r\n      },\r\n      dictionaryList() {\r\n        return this.$store.state.app.dictionary.crawlerAddress\r\n      },\r\n      crawlerStyle() {\r\n        return {\r\n          height: (this.tableHeight - 180) + 'px',\r\n          overflow: 'auto'\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      effectiveDuration(value) {\r\n        console.log(value)\r\n        if (value === null) {\r\n          value = []\r\n        }\r\n        this.formData.startDate = this.$moment(value[0]).format('YYYY-MM-DD')\r\n        this.formData.endDate = this.$moment(value[1]).format('YYYY-MM-DD')\r\n      },\r\n      currentAdvertisementTabIndex(value) {\r\n        console.log(value)\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.settingsList = await this.getSettingsDictionary()\r\n      this.getTableData()\r\n    },\r\n    methods: {\r\n      getTableData() {\r\n        this.listLoading = true\r\n        this.$http.get(this.$baseUrl + this.getListByPaginationRequest, {\r\n          params: Object.assign(this.queryModel, this.pagination)\r\n        }).then(response => {\r\n          console.log('getListByPaginationRequest', response)\r\n\r\n          const result = []\r\n          response.data.forEach((item, index) => {\r\n            result.push({\r\n              titleChi: item.titleChi,\r\n              title: item.title,\r\n              timestamp: item.timestamp,\r\n              numWantToSee: item.numWantToSee,\r\n              releaseDate: item.releaseDate,\r\n              platformEngName: item.platformEngName,\r\n              platformChineseName: item.platformChineseName,\r\n              platformType: item.platformType,\r\n              wantToSeeByGenderMale: item.wantToSeeByGenderMale,\r\n              wantToSeeByGenderFemale: item.wantToSeeByGenderFemale,\r\n              wantToSeeByAge20: item.wantToSeeByAge20,\r\n              wantToSeeByAge20To24: item.wantToSeeByAge20To24,\r\n              wantToSeeByAge25To29: item.wantToSeeByAge25To29,\r\n              wantToSeeByAge30To34: item.wantToSeeByAge30To34,\r\n              wantToSeeByAge35To39: item.wantToSeeByAge35To39,\r\n              wantToSeeByAge40: item.wantToSeeByAge40,\r\n              wantToSeeByTier1: item.wantToSeeByTier1,\r\n              wantToSeeByTier2: item.wantToSeeByTier2,\r\n              wantToSeeByTier3: item.wantToSeeByTier3,\r\n              wantToSeeByTier4: item.wantToSeeByTier4\r\n            })\r\n          })\r\n\r\n          // this.tableList = response.data\r\n          console.log('getTableData+++++', response)\r\n          this.tableList = result\r\n\r\n          // this.tableList = result\r\n          this.total = response.pagination.total\r\n          this.listLoading = false\r\n        })\r\n      },\r\n      getSettingsDictionary() {\r\n        return new Promise((resolve, reject) => {\r\n          this.$http.get(this.$baseUrl + this.getSettingsRequest, {\r\n            params: {\r\n              type: 'crawlerAddress'\r\n            }\r\n          }).then(response => {\r\n            resolve(response.data)\r\n          }).catch(error => {\r\n            console.log(error)\r\n            reject(error)\r\n          })\r\n        })\r\n\r\n      },\r\n      handleFilter() {\r\n        this.pagination.page = 1\r\n        this.getTableData()\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pagination.limit = val\r\n        this.getTableData()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pagination.page = val\r\n        this.getTableData()\r\n      },\r\n      resetTemp() {\r\n        this.formData = {\r\n          id: '',\r\n          description: '',\r\n          rewardImage: '',\r\n          rewardName: '',\r\n          rewardPrompt: '',\r\n          rewardStr: '',\r\n          rewardType: '',\r\n          rewardValue: '',\r\n          status: ''\r\n        }\r\n\r\n      },\r\n      crawlerData() {\r\n        this.$http.post(this.$baseUrl + this.crawlAndSaveRequest, {\r\n          address: this.formData.crawlerAddress,\r\n          headerCode: this.formData.headerCode\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.$message.success('抓取成功')\r\n\r\n          this.getTableData()\r\n          this.oneKeyCrawlFlag = false\r\n\r\n        })\r\n      },\r\n      createData() {\r\n        this.formData.id = ''\r\n        this.updateData()\r\n      },\r\n      handleUpdate(scope) {\r\n        console.log(scope)\r\n        this.formData = Object.assign({}, scope.row)\r\n\r\n        this.dialogStatus = 'update'\r\n        this.dialogFormVisible = true\r\n        this.$nextTick(() => {\r\n          this.$refs['formData'].clearValidate()\r\n        })\r\n      },\r\n      updateData() {\r\n        this.$refs['formData'].validate((valid) => {\r\n          if (valid) {\r\n            this.$http.post(this.$baseUrl + this.addAndUpdateRewardInfoRequest, {\r\n              id: this.formData.id,\r\n              description: this.formData.description,\r\n              rewardImage: this.formData.rewardImage,\r\n              rewardName: this.formData.rewardName,\r\n              rewardPrompt: this.formData.rewardPrompt,\r\n              rewardStr: this.formData.rewardStr,\r\n              rewardType: this.formData.rewardType,\r\n              rewardValue: this.formData.rewardValue,\r\n              status: this.formData.status\r\n            }).then((response) => {\r\n              console.log(response)\r\n              this.dialogFormVisible = false\r\n              this.$message.success('信息修改成功')\r\n              this.getTableData()\r\n            }).catch(error => {\r\n              console.log(error)\r\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n            })\r\n          }\r\n        })\r\n      },\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = val\r\n        console.log(val)\r\n      },\r\n      handleMultipleDelete() {\r\n        this.$confirm('确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.deleteRecord(this.multipleSelection.map(item => {\r\n            return item.id\r\n          }))\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n      },\r\n      handleDelete(scope) {\r\n        console.log(scope)\r\n        this.$confirm('确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n\r\n          this.deleteRecord([scope.row.id])\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n      },\r\n      deleteRecord(data) {\r\n        this.$http.delete(this.$baseUrl + this.deleteRecordRequest, {\r\n          data: {\r\n            id: data\r\n          }\r\n        }).then((response) => {\r\n          console.log(response)\r\n          this.dialogFormVisible = false\r\n          this.$message.success('删除成功')\r\n          this.getTableData()\r\n        }).catch(error => {\r\n          console.log(error)\r\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n        })\r\n      },\r\n\r\n      expand() {\r\n        this.expandQuery = !this.expandQuery\r\n      },\r\n      search() {\r\n        this.getTableData()\r\n      },\r\n      reset() {\r\n        this.queryModel.available = true\r\n      },\r\n\r\n      uploadSuccess1(response) {\r\n        console.log(response)\r\n        this.formData.icon = response.url\r\n      },\r\n      uploadSuccess2(response) {\r\n        this.formData.rewardImage = response.url\r\n      },\r\n      changeDailyLimitMode(data) {\r\n        this.formData.dailyLimit = data.toString() === 'unlimited' ? '-1' : this.formData.dailyLimit\r\n\r\n      },\r\n      changeLimitMode(data) {\r\n        this.formData.limit = data.toString() === 'unlimited' ? '-1' : this.formData.limit\r\n        alert(this.formData.limit)\r\n      },\r\n      chooseRewardType(data) {\r\n        this.formData.type = this.settingsList.filter(item => item.value === data)[0].code\r\n        this.formData.crawlerAddress = data\r\n      },\r\n      chooseThirdPartyProduct(data) {\r\n        this.chosenThirdPartyProductInfo = data\r\n      },\r\n      confirmCrawlerSetting() {\r\n        this.crawlerSettingFlag = false\r\n        this.$message.success('设置成功')\r\n\r\n      },\r\n\r\n      focusSortList(queryString, callback) {\r\n        this.loading = true\r\n\r\n        // this.queryModel = Object.assign(this.queryModel, {\r\n        //   limit: 999,\r\n        //   page: 1,\r\n        //   status: 1,\r\n        //   title: '',\r\n        //   description: '',\r\n        //   gameTypeId: '',\r\n        // });\r\n        // console.log(this.queryModel)\r\n\r\n        this.$http.get(this.$baseUrl + this.queryRewardProductByNameRequest, {\r\n          params: {\r\n            name: this.chosenReward\r\n          }\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.loading = false\r\n          // this.total = response.total;\r\n          const result = []\r\n          if (response.data.length !== 0) {\r\n            response.data.forEach((item, index) => {\r\n              result.push(Object.assign(item, {\r\n                value: item.name\r\n              }))\r\n            })\r\n\r\n            console.log(111, result)\r\n\r\n            callback(result)\r\n\r\n          }\r\n\r\n        })\r\n      },\r\n      getAllCrawlingIndex() {\r\n        const getRankingListPromise = this.getRankingList()\r\n        const getPreSaleListPromise = this.getPreSaleList()\r\n\r\n        Promise.all([getRankingListPromise, getPreSaleListPromise]).then(responseAll => {\r\n          console.log(responseAll)\r\n        }).catch(error => {\r\n          console.log(error)\r\n          this.$message.error(error)\r\n        })\r\n\r\n      },\r\n      getMovieData() {\r\n        const getDetailData = this.getDetailData()\r\n        Promise.all([getDetailData]).then(responseAll => {\r\n          console.log(responseAll)\r\n        }).catch(error => {\r\n          console.log(error)\r\n          this.$message.error(error)\r\n        })\r\n      },\r\n\r\n      async getDetailData() {\r\n        return new Promise((resolve, reject) => {\r\n          this.$http.get(this.$baseUrl + this.crawlPreSaleMovieListRequest, {\r\n            params: {\r\n              address: 'https://piaofang.maoyan.com/store',\r\n              headerCode: 'maoyanPreSale'\r\n            }\r\n          }).then(response => {\r\n            console.log(response)\r\n            this.presaleCountLimit = response.data.length\r\n\r\n            this.preSaleWantToSeeListData = response.data\r\n            response.data.forEach((item, index) => {\r\n              if (index < this.presaleCountLimit) {\r\n                this.$set(this.preSaleWantToSeeListData, index, Object.assign(item, {\r\n                  detailSuccess: 0,\r\n                  content: ['detailSuccess', 'rankingListWantToSeePortraitSuccess'],\r\n                  color: 'sunccess',\r\n                  recordTime: '---',\r\n                  active: true\r\n                }))\r\n\r\n              }\r\n            })\r\n            this.$message.success('获取预售列表成功')\r\n            resolve(this.preSaleWantToSeeListData)\r\n          }).catch(error => {\r\n            this.$message.error(error)\r\n            reject(error)\r\n          })\r\n        })\r\n\r\n      },\r\n      async getPreSaleList() {\r\n        this.$http.get(this.$baseUrl + this.crawlPreSaleMovieListRequest, {\r\n          params: {\r\n            address: 'https://piaofang.maoyan.com/store',\r\n            headerCode: 'maoyanPreSale'\r\n          }\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.presaleCountLimit = response.data.length\r\n\r\n          this.preSaleWantToSeeListData = response.data\r\n          this.preSaleWantToSeeListData.forEach((item, index) => {\r\n            if (index < this.presaleCountLimit) {\r\n              this.$set(this.preSaleWantToSeeListData, index, Object.assign(item, {\r\n                preSaleWantToSeePortraitSuccess: 0,\r\n                content: 'detailSuccess' + 'preSaleWantToSeePortraitSuccess',\r\n                color: 'sunccess',\r\n                recordTime: '---',\r\n                active: true\r\n              }))\r\n\r\n            }\r\n          })\r\n          this.$message.success('获取预售列表成功')\r\n        }).catch(error => {\r\n          this.$message.error(error)\r\n        })\r\n\r\n      },\r\n      async getRankingList() {\r\n        return new Promise((resolve, reject) => {\r\n          this.$http.post(this.$baseUrl + this.crawlRankingListByYearRequest, {\r\n            address: 'https://piaofang.maoyan.com/rankings/year',\r\n            headerCode: 'maoyanRankingList',\r\n            limit: this.rankingListCountLimit,\r\n            query: {\r\n              year: '2019',\r\n              tab: '1'\r\n            }\r\n          }, {\r\n            timeout: 20000\r\n          }).then(response => {\r\n            this.rankingListCountLimit = response.data.length\r\n            console.log(response)\r\n\r\n            this.rankingListData = response.data\r\n            response.data.forEach((item, index) => {\r\n              this.$set(this.rankingListData, index, Object.assign(item, {\r\n                title: item.title,\r\n                detailSuccess: 0,\r\n                rankingListRatingSuccess: 0,\r\n                rankingListWantToSeePortraitSuccess: 0,\r\n                moreSectionsSuccess: 0,\r\n                rankingListBoxOfficeGlobalSuccess: 0,\r\n                content: 'detailSuccess' + 'rankingListWantToSeePortraitSuccess',\r\n                color: 'sunccess',\r\n                recordTime: '---',\r\n                active: true\r\n              }))\r\n            })\r\n            resolve(this.rankingListData)\r\n            this.$message.success('获取电影排名列表成功')\r\n          }).catch(error => {\r\n            this.$message.error(error)\r\n            reject(error)\r\n          })\r\n        })\r\n\r\n      },\r\n      async beginToCrawRankingListMovieData() {\r\n        this.crawlingCount = 0\r\n        this.rankingListMovieData = []\r\n\r\n        let result = []\r\n        const record = {}\r\n\r\n        let detailReadyFlag = false\r\n        let portraitReadyFlag = false\r\n\r\n        const loop = () => {\r\n          const crawlingCount = this.crawlingCount\r\n          this.crawlingFlag = true\r\n          console.log(this.rankingListData)\r\n          const movieId = this.rankingListData[crawlingCount].movieId\r\n\r\n          const getDetail = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankinglistDetailRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId,\r\n                  headerCode: 'rankingListDetailHeader'\r\n                },\r\n                timeout: 20000\r\n              }).then(response1 => {\r\n                record.detail = response1.data\r\n\r\n                // debugger\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  detailSuccess: 1\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  detailSuccess: 2\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getDetaiMoreSections = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankingListMoreSectionsRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/moresections',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                }\r\n              }).then(response1 => {\r\n                record.detailMoreSections = response1.data\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  moreSectionsSuccess: 1\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  moreSectionsSuccess: 2\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getRankingListWantToSeePortrait = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankingListWantToSeePortraitRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/wantindex?wkwebview=1%26city_tier=0%26city_id=0%26cityName=%E5%85%A8%E5%9B%BD',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                },\r\n                timeout: 20000\r\n              }).then(response1 => {\r\n                record.portrait = response1.data\r\n\r\n                console.log('getRankingListWantToSeePortrait', response1.data)\r\n                // debugger\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListWantToSeePortraitSuccess: 1\r\n\r\n                }))\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListWantToSeePortraitSuccess: 2\r\n\r\n                }))\r\n\r\n                reject(error)\r\n              })\r\n            })\r\n          }\r\n\r\n          const getRankingListRating = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankingListRatingRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/audienceRating?usePageCache=true',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                },\r\n                timeout: 300000\r\n              }).then(response1 => {\r\n                record.rating = response1.data\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListRatingSuccess: 1\r\n\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListRatingSuccess: 2\r\n\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getRankingListPremiereBox = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankingListBoxOfficeBoxPremiereRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/premierebox',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                },\r\n                timeout: 300000\r\n              }).then(response1 => {\r\n                record.rating = response1.data\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  RankingListPemiereBoxSuccess: 1\r\n\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  RankingListPemiereBoxSuccess: 2\r\n\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getRankingListBoxOfficeGlobal = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlRankingListBoxOfficeGlobalRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/boxshowna',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                },\r\n                timeout: 300000\r\n              }).then(response1 => {\r\n                record.rating = response1.data\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListBoxOfficeGlobalSuccess: 1\r\n\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.rankingListData, crawlingCount, Object.assign(this.rankingListData[crawlingCount], {\r\n                  rankingListBoxOfficeGlobalSuccess: 2\r\n\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getDetailPromise = getDetail()\r\n          const getRankingListWantToSeePortraitPromise = getRankingListWantToSeePortrait()\r\n          const getRankingListRatingPromise = getRankingListRating()\r\n          const getMoreSectionsPromise = getDetaiMoreSections()\r\n          const getRankingListPremiereBoxPromise = getRankingListPremiereBox()\r\n          const getRankingListBoxOfficeGlobalPromise = getRankingListBoxOfficeGlobal()\r\n\r\n          Promise.all([getDetailPromise, getMoreSectionsPromise, getRankingListRatingPromise, getRankingListWantToSeePortraitPromise, getRankingListPremiereBoxPromise, getRankingListBoxOfficeGlobalPromise]).then(responseAll => {\r\n            console.log('responseAll', responseAll)\r\n\r\n            this.rankingListData[crawlingCount].color = 'success'\r\n            this.$set(this.rankingListMovieData, crawlingCount, Object.assign(responseAll[0], responseAll[1], responseAll[2], responseAll[3], responseAll[4], responseAll[5]))\r\n\r\n            console.log('rankingListMovieData', this.rankingListMovieData)\r\n            if (this.crawlingCount === this.rankingListCountLimit) {\r\n              // debugger\r\n              this.crawlingFlag = false\r\n              this.crawlingCount = 0\r\n            } else {\r\n              this.crawlingCount++\r\n            }\r\n            if (this.crawlingFlag) {\r\n              this.rankingListData[crawlingCount].recordTime = this.$moment(Date.now()).format('hh:mm:ss')\r\n              loop()\r\n            }\r\n\r\n          }).catch(error => {\r\n            console.log(error)\r\n            if (this.crawlingCount === this.rankingListData.length) {\r\n              // debugger\r\n              this.crawlingFlag = false\r\n            } else {\r\n              this.crawlingCount++\r\n            }\r\n            if (this.crawlingFlag) {\r\n              loop()\r\n            }\r\n          })\r\n        }\r\n        loop()\r\n      },\r\n\r\n      async beginToCrawlPreSale() {\r\n        this.crawlingCount = 0\r\n        this.preSaleWantToSeeListData = []\r\n\r\n        let result = []\r\n        let record = {}\r\n\r\n        let detailReadyFlag = false\r\n        let portraitReadyFlag = false\r\n\r\n        const loop = () => {\r\n          const crawlingCount = this.crawlingCount\r\n          this.crawlingFlag = true\r\n          const movieId = this.preSaleWantToSeeListData[crawlingCount].movieId\r\n          const getDetail = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlMoviePreSaleDetailRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId,\r\n                  headerCode: 'maoyanPreSale'\r\n                }\r\n              }).then(response1 => {\r\n                record.detail = response1.data\r\n\r\n                this.$set(this.preSaleWantToSeeListData, crawlingCount, Object.assign(this.preSaleWantToSeeListData[crawlingCount], {\r\n                  detailSuccess: 1\r\n                }))\r\n\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n\r\n                this.$set(this.preSaleWantToSeeListData, crawlingCount, Object.assign(this.preSaleWantToSeeListData[crawlingCount], {\r\n                  detailSuccess: 2\r\n                }))\r\n                reject(error)\r\n\r\n              })\r\n            })\r\n          }\r\n\r\n          const getPreSaleWantToSeePortrait = () => {\r\n            return new Promise((resolve, reject) => {\r\n              this.$http.get(this.$baseUrl + this.crawlMoviePreSalePortraitRequest, {\r\n                params: {\r\n                  address: 'https://piaofang.maoyan.com/movie/' + movieId + '/wantindex?wkwebview=1%26city_tier=0%26city_id=0%26cityName=%E5%85%A8%E5%9B%BD',\r\n                  headerCode: 'rankingListDetailHeader'\r\n                }\r\n\r\n              }).then(response1 => {\r\n                record.portrait = response1.data\r\n\r\n                this.$set(this.preSaleWantToSeeListData, crawlingCount, Object.assign(this.preSaleWantToSeeListData[crawlingCount], {\r\n                  rankingListWantToSeePortraitSuccess: 1,\r\n                  color: 'success'\r\n                }))\r\n                resolve(response1.data)\r\n              }).catch(error => {\r\n                this.$set(this.preSaleWantToSeeListData, crawlingCount, Object.assign(this.preSaleWantToSeeListData[crawlingCount], {\r\n                  rankingListWantToSeePortraitSuccess: 2,\r\n                  color: 'failed'\r\n                }))\r\n\r\n                reject(error)\r\n              })\r\n            })\r\n          }\r\n\r\n          const getDetailPromise = getDetail()\r\n          const getPreSaleWantToSeePortraitPromise = getPreSaleWantToSeePortrait()\r\n          if (this.crawlingCount === this.rankingListCountLimit) {\r\n            // debugger\r\n            this.crawlingFlag = false\r\n          } else {\r\n            this.crawlingCount++\r\n          }\r\n          Promise.all([getDetailPromise, getPreSaleWantToSeePortraitPromise]).then(responseAll => {\r\n            console.log(responseAll)\r\n\r\n            this.$set(this.preSaleWantToSeeListData, crawlingCount, Object.assign(responseAll[0], responseAll[1]))\r\n\r\n            console.log('rankingListMovieData', this.preSaleWantToSeeListData)\r\n\r\n            if (this.crawlingFlag) {\r\n              this.preSaleWantToSeeListData[crawlingCount].recordTime = this.$moment(Date.now()).format('hh:mm:ss')\r\n              loop()\r\n            }\r\n\r\n          }).catch(error => {\r\n            console.log(error)\r\n            if (this.crawlingCount === this.rankingListCountLimit) {\r\n              // debugger\r\n              this.crawlingFlag = false\r\n            } else {\r\n              this.crawlingCount++\r\n            }\r\n            if (this.crawlingFlag) {\r\n              loop()\r\n            }\r\n          })\r\n        }\r\n\r\n        loop()\r\n      },\r\n      stopCrawling() {\r\n        this.crawlingFlag = false\r\n      },\r\n      save() {\r\n        if (this.crawlingCount === this.rankingListCountLimit) {\r\n          console.log(this.rankingListMovieData)\r\n          debugger\r\n          this.$http.post(this.$baseUrl + this.saveMultipleMaoyanRankingListRecordRequest, this.rankingListMovieData.reverse()).then(response => {\r\n            this.$message.success('数据提交成功')\r\n            this.getTableData()\r\n            this.stepCrawlFlag = false\r\n          })\r\n        } else {\r\n          this.$message.warning('dsdsdsdsds')\r\n        }\r\n      },\r\n      handleChangeCounter(value) {\r\n        this.preSaleWantToSeeListData.forEach((item, index) => {\r\n          this.$set(this.preSaleWantToSeeListData, index, Object.assign(this.preSaleWantToSeeListData[index], {\r\n            active: index < this.rankingListCountLimit\r\n          }))\r\n        })\r\n      },\r\n      checkDescription(scope) {\r\n        this.$alert(scope.row.description, '电影描述', {\r\n          confirmButtonText: '关闭',\r\n          closeOnClickModal: true,\r\n          callback: action => {\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  @import '../../styles/edifice.scss';\r\n\r\n  .timelineitem {\r\n    font-size: 15px;\r\n    padding: 0 0 1px 0;\r\n\r\n    i {\r\n      &.success {\r\n        display: inline-block;\r\n        width: 20px;\r\n        height: 20px;\r\n        text-align: center;\r\n        line-height: 20px;\r\n        border-radius: 50%;\r\n        color: #fff;\r\n        background: #91d929;\r\n      }\r\n\r\n      &.failed {\r\n        display: inline-block;\r\n        width: 20px;\r\n        height: 20px;\r\n        text-align: center;\r\n        line-height: 20px;\r\n        border-radius: 50%;\r\n        color: #fff;\r\n        background: red;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaoyanRankingListWantToSeeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaoyanRankingListWantToSeeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaoyanRankingListWantToSeeList.vue?vue&type=template&id=63241db2&\"\nimport script from \"./MaoyanRankingListWantToSeeList.vue?vue&type=script&lang=js&\"\nexport * from \"./MaoyanRankingListWantToSeeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaoyanRankingListWantToSeeList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaoyanRankingListWantToSeeList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}