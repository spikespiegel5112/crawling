(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4626abc6"],{"3b8a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common_querytable_wrapper"},[a("div",{staticClass:"queryform_wrapper"},[a("div",{staticClass:"outside"},[a("el-form",{staticClass:"basearea"},[a("el-row",[a("el-col",{attrs:{span:20}},[e._t("button1")],2),a("el-col",{attrs:{span:4}},[e._t("quicksearch")],2)],1)],1),a("ul",{staticClass:"operation_wrapper pull-right"},[a("li",[e._t("query1")],2),a("li",[e._t("query2")],2),a("li",[e._t("query3")],2),e.expand?a("li",[a("el-button",{staticClass:"expand",attrs:{size:"mini",type:"text"},on:{click:e.handleExpand}},[e._v(" 高级搜索 "),a("i",{staticClass:"el-icon-arrow-down"})])],1):e._e()])],1),a("div",{staticClass:"expandarea",class:{active:e.expandFlag}},[a("el-form",{ref:"form",attrs:{model:e.queryModel,size:"mini","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[e._t("query4")],2),a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:8}})],1),a("el-row",[a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:8}})],1),a("el-row",[a("el-col",{attrs:{span:23,"pull-right":""}},[a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索 ")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置 ")])],1)],1)],1)],1)],1)])])},i=[],r={name:"CommonQuery",props:{queryModel:{type:Object,default:function(){return{}}},expandQuery:{type:Object,default:function(){return{}}},expand:{type:Boolean,default:!1}},data:function(){return{expandFlag:!1}},watch:{queryModel:function(){},expand:function(e){this.expandFlag=e}},methods:{search:function(){},reset:function(){this.$emit("reset")},handleExpand:function(){this.expandFlag=!this.expandFlag,console.log(this.expandFlag)}}},o=r,l=a("2877"),s=Object(l["a"])(o,n,i,!1,null,"5ce42f2a",null);t["a"]=s.exports},"4df4":function(e,t,a){"use strict";var n=a("0366"),i=a("7b0b"),r=a("9bdd"),o=a("e95a"),l=a("50c4"),s=a("8418"),u=a("35a1");e.exports=function(e){var t,a,c,d,p,f,m=i(e),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,y=void 0!==b,v=u(m),x=0;if(y&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==v||g==Array&&o(v))for(t=l(m.length),a=new g(t);t>x;x++)f=y?b(m[x],x):m[x],s(a,x,f);else for(d=v.call(m),p=d.next,a=new g;!(c=p.call(d)).done;x++)f=y?r(d,b,[c.value,x],!0):c.value,s(a,x,f);return a.length=x,a}},"6d39":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"app-container"},[a("CommonQuery",[a("template",{slot:"button1"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:e.handleCreate}},[e._v("新建")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:e.handleMultipleDelete}},[e._v("批量删除")])],1),a("template",{slot:"query1"},[a("div",{staticClass:"common-search-wrapper",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search.apply(null,arguments)}}},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.queryModel.brandName,expression:"queryModel.brandName"}],attrs:{placeholder:"请输入游戏名称",type:"text"},domProps:{value:e.queryModel.brandName},on:{input:function(t){t.target.composing||e.$set(e.queryModel,"brandName",t.target.value)}}})]),a("a",[a("span",{staticClass:"el-icon-search",on:{click:e.search}})])])])],2),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.tableList,height:e.tableHeight,border:"","element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{align:"center",fixed:"",label:"No",type:"index",width:"45"}}),a("el-table-column",{attrs:{align:"center",label:"Unicode",prop:"unicode"}}),a("el-table-column",{attrs:{align:"center",label:"Number",prop:"number"}}),a("el-table-column",{attrs:{align:"center",label:"Value",prop:"value"}}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleUpdate(t)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"common-pagination-wrapper"},[a("el-pagination",{attrs:{"current-page":e.pagination.page,"page-size":e.pagination.limit,"page-sizes":[10,20,30,50,100],total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.pagination,"page",t)},"update:current-page":function(t){return e.$set(e.pagination,"page",t)},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"850px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-position":"right","label-width":"140px"}},[a("el-form-item",{attrs:{label:"Unicode",prop:"unicode"}},[a("el-input",{model:{value:e.formData.unicode,callback:function(t){e.$set(e.formData,"unicode",t)},expression:"formData.unicode"}})],1),a("el-form-item",{attrs:{label:"Number",prop:"number"}},[a("el-input",{model:{value:e.formData.number,callback:function(t){e.$set(e.formData,"number",t)},expression:"formData.number"}})],1),a("el-form-item",{attrs:{label:"Value",prop:"value"}},[a("el-input",{model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateData}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},i=[],r=(a("b0c0"),a("4de4"),a("99af"),a("d3b7"),a("25f0"),a("d81d"),a("a8f4")),o=a("3b8a"),l={components:{CommonTag:r["a"],CommonQuery:o["a"]},data:function(){var e=this;return{getListRequest:"glyphMapping/getList",createOrUpdateRequest:"glyphMapping/createOrUpdate",deleteItemRequest:"glyphMapping/deleteItem",tableList:[],total:null,listLoading:!0,queryModel:{sort:"desc",typeCode:""},pagination:{page:1,limit:50},sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],formData:{id:"",mappingId:"",unicode:"",number:"",value:""},typeFormData:{name:"",code:""},typeList:[],dialogFormVisible:!1,addTypeFlag:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,rules:{unicode:[{required:!0,message:"此项为必填项",trigger:"change"}],number:[{required:!0,message:"此项为必填项",trigger:"change"}],value:[{required:!0,message:"此项为必填项",trigger:"change"}]},pickerOptions1:{disabledDate:function(t){return t.getTime()<e.value1}},fileList:[],portraitParams:{bucketName:"funyvalley",folderName:"icon"},expandQuery:""}},computed:{tableHeight:function(){return this.$store.state.app.tableHeight}},watch:{effectiveDuration:function(e){console.log(e),null===e&&(e=[]),this.formData.startDate=this.$moment(e[0]).format("YYYY-MM-DD"),this.formData.endDate=this.$moment(e[1]).format("YYYY-MM-DD")},currentAdvertisementTabIndex:function(e){console.log(e)}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.listLoading=!0,this.queryModel=Object.assign(this.queryModel,this.pagination),this.$http.get(this.$baseUrl+this.getListRequest,{params:this.queryModel}).then((function(t){console.log("getListByPaginationRequest",t),e.tableList=t.data,e.total=t.pagination.total,e.listLoading=!1}))},handleFilter:function(){this.pagination.page=1,this.getTableData()},handleSizeChange:function(e){this.pagination.limit=e,this.getTableData()},handleCurrentChange:function(e){this.pagination.page=e,this.getTableData()},resetTemp:function(){this.formData={id:"",mappingId:"",unicode:"",number:"",value:""},this.$refs.formData&&this.$refs.formData.resetFields()},handleCreate:function(){this.dialogStatus="create",this.resetTemp(),console.log(this.typeList),this.dialogFormVisible=!0},handleUpdate:function(e){var t=this;this.$nextTick((function(){t.formData=Object.assign({},e.row),t.dialogStatus="update",t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs["formData"].clearValidate()}))}))},chooseType:function(e){this.formData.typeName=this.typeList.filter((function(t){return t.code===e}))[0].name},updateData:function(){var e=this;this.$refs["formData"].validate((function(t){t&&e.$http.post(e.$baseUrl+e.createOrUpdateRequest,{id:e.formData.id,mappingId:e.formData.mappingId,unicode:e.formData.unicode,number:e.formData.number,value:e.formData.value}).then((function(t){console.log(t),e.dialogFormVisible=!1,e.$message.success("信息修改成功"),e.getTableData()})).catch((function(t){console.log(t),e.$message.error("".concat(t.response.status.toString(),"  ").concat(t.response.data.error))}))}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},handleMultipleDelete:function(){var e=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRecord(e.multipleSelection.map((function(e){return e.id})))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDelete:function(e){var t=this;console.log(e),this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRecord([e.row.id])})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},deleteRecord:function(e){var t=this;this.$http.delete(this.$baseUrl+this.deleteItemRequest,{data:{id:e}}).then((function(e){console.log(e),t.dialogFormVisible=!1,t.$message.success("删除成功"),t.getTableData()})).catch((function(e){console.log(e),t.$message.error("".concat(e.response.status.toString(),"  ").concat(e.response.data.error))}))},expand:function(){this.expandQuery=!this.expandQuery},search:function(){this.getTableData()},reset:function(){this.queryModel.available=!0}}},s=l,u=(a("7fff"),a("2877")),c=Object(u["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},"7fff":function(e,t,a){"use strict";a("9896")},9896:function(e,t,a){},"9bdd":function(e,t,a){var n=a("825a"),i=a("2a62");e.exports=function(e,t,a,r){try{return r?t(n(a)[0],a[1]):t(a)}catch(o){throw i(e),o}}},a630:function(e,t,a){var n=a("23e7"),i=a("4df4"),r=a("1c7e"),o=!r((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:i})},a8f4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"common_tag_wrapper"},[a("el-col",{attrs:{span:2}},[e._v(e._s(e.title))]),a("el-col",{attrs:{span:22}},[e._l(e.dynamicTags,(function(t,n){return a("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{ref:"saveTagInput",staticClass:"button",attrs:{size:"small"},on:{blur:e.handleInputConfirm,click:e.showInput},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[e._v("添加版本 ")])],2)],1)},i=[];function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function o(e){if(Array.isArray(e))return r(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}a("fb6a"),a("b0c0");function s(e,t){if(e){if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return o(e)||l(e)||s(e)||u()}a("99af"),a("a434");var d={name:"CommonTag",props:{metaData:{type:Array,default:function(){return[]},required:!1},title:{type:String,default:"",required:!1},tagData:{type:Array,default:[],required:!1},buttonText:{type:String,default:"+",required:!1}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},watch:{tagData:function(e){console.log(e),e.length>=0?this.dynamicTags=e:this.$message.error("tag列表数据类型不正确")}},mounted:function(){this.dynamicTags=this.tagData},methods:{handleInputConfirm:function(){var e=this,t=this.inputValue;t&&this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue="",this.$emit.apply(this,["add",this.dynamicTags].concat(c(e.metaData)))},handleClose:function(e){var t=this;this.$emit.apply(this,["delete",e,this.dynamicTags.indexOf(e)].concat(c(t.metaData))),this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))}}},p=d,f=a("2877"),m=Object(f["a"])(p,n,i,!1,null,"8021313e",null);t["a"]=m.exports},d28b:function(e,t,a){var n=a("746f");n("iterator")},e01a:function(e,t,a){"use strict";var n=a("23e7"),i=a("83ab"),r=a("da84"),o=a("5135"),l=a("861d"),s=a("9bf2").f,u=a("e893"),c=r.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(d[t]=!0),t};u(p,c);var f=p.prototype=c.prototype;f.constructor=p;var m=f.toString,g="Symbol(test)"==String(c("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=m.call(e);if(o(d,e))return"";var a=g?t.slice(7,-1):t.replace(h,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-4626abc6.b64ea0dd.js.map