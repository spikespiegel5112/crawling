{"version":3,"sources":["webpack:///./src/views/crawling/Maoyan.vue?a410","webpack:///./src/views/crawling/Maoyan.vue?8e26","webpack:///src/views/crawling/Maoyan.vue","webpack:///./src/views/crawling/Maoyan.vue?afc7","webpack:///./src/views/crawling/Maoyan.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","slot","directives","name","rawName","attrs","on","$event","oneKeyCrawlFlag","_v","handleMultipleDelete","type","indexOf","_k","keyCode","key","search","apply","arguments","value","queryModel","expression","domProps","target","composing","$set","modifiers","tableList","tableHeight","handleClickRow","handleSelectionChange","scopedSlots","_u","fn","scope","_s","$moment","Number","row","timestamp","format","handleDelete","pagination","page","limit","total","handleCurrentChange","handleSizeChange","textMap","dialogStatus","ref","formData","rules","chooseRewardType","model","callback","$$v","_l","item","code","$t","crawlerData","staticRenderFns","component"],"mappings":"gHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,iBAAiB,CAACF,EAAG,cAAc,CAACA,EAAG,WAAW,CAACG,KAAK,WAAW,CAACH,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,YAAYC,MAAM,CAAC,KAAO,eAAe,KAAO,OAAO,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIc,iBAAgB,KAAQ,CAACd,EAAIe,GAAG,YAAYX,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,YAAYC,MAAM,CAAC,KAAO,iBAAiB,KAAO,OAAO,KAAO,UAAUC,GAAG,CAAC,MAAQZ,EAAIgB,uBAAuB,CAAChB,EAAIe,GAAG,aAAa,GAAGX,EAAG,WAAW,CAACG,KAAK,UAAU,CAACH,EAAG,MAAM,CAACE,YAAY,wBAAwBM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOI,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGN,EAAOO,QAAQ,QAAQ,GAAGP,EAAOQ,IAAI,SAAkB,KAAcrB,EAAIsB,OAAOC,MAAM,KAAMC,cAAc,CAACpB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUe,MAAOzB,EAAI0B,WAAoB,UAAEC,WAAW,yBAAyBhB,MAAM,CAAC,YAAc,UAAU,KAAO,QAAQiB,SAAS,CAAC,MAAS5B,EAAI0B,WAAoB,WAAGd,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgB,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAI0B,WAAY,YAAab,EAAOgB,OAAOJ,aAAarB,EAAG,IAAI,CAACA,EAAG,OAAO,CAACE,YAAY,iBAAiBM,GAAG,CAAC,MAAQZ,EAAIsB,iBAAiB,GAAGlB,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,iBAAiBe,MAAOzB,EAAe,YAAE2B,WAAW,cAAcK,UAAU,CAAC,MAAO,KAAQrB,MAAM,CAAC,KAAOX,EAAIiC,UAAU,OAASjC,EAAIkC,YAAY,OAAS,GAAG,uBAAuB,UAAU,IAAM,GAAG,wBAAwB,IAAItB,GAAG,CAAC,YAAYZ,EAAImC,eAAe,mBAAmBnC,EAAIoC,wBAAwB,CAAChC,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAO,YAAY,MAAQ,QAAQP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,GAAG,MAAQ,KAAK,KAAO,QAAQ,MAAQ,QAAQP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,YAAY,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,YAAY,MAAQ,OAAO0B,YAAYrC,EAAIsC,GAAG,CAAC,CAACjB,IAAI,UAAUkB,GAAG,SAASC,GAAO,MAAO,CAACxC,EAAIe,GAAG,IAAIf,EAAIyC,GAAGzC,EAAI0C,QAAQC,OAAOH,EAAMI,IAAIC,YAAYC,OAAO,wBAAwB,YAAY1C,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,UAAU,KAAO,aAAaP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,aAAaP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,MAAM,KAAO,gBAAgBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAY,KAAO,kBAAkBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,SAAS,KAAO,kBAAkBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,QAAQ,KAAO,qBAAqBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,iBAAiBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,MAAM,KAAO,cAAcP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,cAAcP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,cAAcP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,OAAO,KAAO,iBAAiBP,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,SAAS,MAAQ,KAAK,MAAQ,SAAS0B,YAAYrC,EAAIsC,GAAG,CAAC,CAACjB,IAAI,UAAUkB,GAAG,SAASC,GAAO,MAAO,CAACpC,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,OAAO,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI+C,aAAaP,MAAU,CAACxC,EAAIe,GAAG,gBAAgB,GAAGX,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,gBAAgB,CAACO,MAAM,CAAC,eAAeX,EAAIgD,WAAWC,KAAK,YAAYjD,EAAIgD,WAAWE,MAAM,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,MAAQlD,EAAImD,MAAM,WAAa,GAAG,OAAS,2CAA2CvC,GAAG,CAAC,qBAAqB,SAASC,GAAQ,OAAOb,EAAI+B,KAAK/B,EAAIgD,WAAY,OAAQnC,IAAS,sBAAsB,SAASA,GAAQ,OAAOb,EAAI+B,KAAK/B,EAAIgD,WAAY,OAAQnC,IAAS,iBAAiBb,EAAIoD,oBAAoB,cAAcpD,EAAIqD,qBAAqB,GAAGjD,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQX,EAAIsD,QAAQtD,EAAIuD,cAAc,QAAUvD,EAAIc,gBAAgB,MAAQ,SAASF,GAAG,CAAC,iBAAiB,SAASC,GAAQb,EAAIc,gBAAgBD,KAAU,CAACT,EAAG,SAAS,CAACO,MAAM,CAAC,QAAU,SAAS,KAAO,SAAS,CAACP,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,KAAK,CAACP,EAAG,UAAU,CAACoD,IAAI,WAAW7C,MAAM,CAAC,MAAQX,EAAIyD,SAAS,MAAQzD,EAAI0D,MAAM,iBAAiB,QAAQ,cAAc,UAAU,CAACtD,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,YAAc,IAAIC,GAAG,CAAC,OAASZ,EAAI2D,kBAAkBC,MAAM,CAACnC,MAAOzB,EAAIyD,SAAmB,WAAEI,SAAS,SAAUC,GAAM9D,EAAI+B,KAAK/B,EAAIyD,SAAU,aAAcK,IAAMnC,WAAW,wBAAwB3B,EAAI+D,GAAI/D,EAAgB,cAAE,SAASgE,GAAM,OAAO5D,EAAG,YAAY,CAACiB,IAAI2C,EAAKC,KAAKtD,MAAM,CAAC,MAAQqD,EAAKvD,KAAK,MAAQuD,EAAKvC,YAAW,IAAI,GAAGrB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,mBAAmB,CAACP,EAAG,WAAW,CAACwD,MAAM,CAACnC,MAAOzB,EAAIyD,SAAuB,eAAEI,SAAS,SAAUC,GAAM9D,EAAI+B,KAAK/B,EAAIyD,SAAU,iBAAkBK,IAAMnC,WAAW,8BAA8B,IAAI,IAAI,IAAI,GAAGvB,EAAG,MAAM,CAACE,YAAY,gBAAgBK,MAAM,CAAC,KAAO,UAAUJ,KAAK,UAAU,CAACH,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,YAAYE,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIc,iBAAkB,KAAS,CAACd,EAAIe,GAAGf,EAAIyC,GAAGzC,EAAIkE,GAAG,oBAAoB9D,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,YAAYC,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQZ,EAAImE,cAAc,CAACnE,EAAIe,GAAGf,EAAIyC,GAAGzC,EAAIkE,GAAG,sBAAsB,IAAI,IAAI,IACnvKE,EAAkB,G,8HCoGtB,GACE,WAAF,CACI,YAAJ,QAEE,KAJF,WAII,IAAJ,OACI,MAAJ,CACM,2BAAN,6CACM,oBAAN,sCACM,oBAAN,uCACM,mBAAN,mBACM,oBAAN,EACM,eAAN,CACQ,QAAR,IAEM,aAAN,GACM,sBAAN,GACM,4BAAN,GAEM,OAAN,GACM,OAAN,GACM,eAAN,GACM,UAAN,GACM,SAAN,EACM,UAAN,GACM,MAAN,KACM,aAAN,EACM,kBAAN,EAEM,iBAAN,EACQ,KAAR,EACQ,KAAR,OACA,CACQ,KAAR,EACQ,KAAR,OAEM,WAAN,CACQ,KAAR,OACQ,UAAR,IAEM,WAAN,CACQ,KAAR,EACQ,MAAR,IAEM,kBAAN,QAEM,YAAN,EAAQ,MAAR,eAAQ,IAAR,QAAQ,MAAR,gBAAQ,IAAR,QACM,cAAN,gCACM,cAAN,EACM,SAAN,CACQ,WAAR,SACQ,eAAR,IAEM,mBAAN,EACM,aAAN,GACM,QAAN,CACQ,OAAR,OACQ,OAAR,UAEM,iBAAN,EACM,MAAN,CACQ,GAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,YAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,KAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,WAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,MAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,UAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,QAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,WACQ,OAAR,EAAU,UAAV,EAAU,QAAV,SAAU,QAAV,YAEM,iBAAN,EACM,eAAN,CACQ,aAAR,YACU,GAAV,cACY,OAAZ,uBAIM,eAAN,CACQ,aAAR,YACU,OAAV,uBAGM,SAAN,GACM,eAAN,CACQ,WAAR,aACQ,WAAR,QAEM,mBAAN,GACM,uBAAN,GACM,UAAN,GACM,YAAN,GACM,kBAAN,EACM,QAAN,GACM,yBAAN,EACM,6BAAN,EACM,kBAAN,GACM,kBAAN,GACM,iBAAN,EACM,aAAN,KAGE,SAAF,CACI,YADJ,WAEM,OAAN,mCAEI,eAJJ,WAKM,OAAN,kDAGE,MAAF,CACI,kBADJ,SACA,GACM,QAAN,OACA,WACQ,EAAR,IAEM,KAAN,2DACM,KAAN,0DAEI,6BATJ,SASA,GACM,QAAN,SAGE,QA1HF,WA0HI,IAAJ,OAAI,OAAJ,sJACA,0BADA,OACA,eADA,OAEA,iBAFA,8CAIE,QAAF,CACI,aADJ,WACM,IAAN,OACM,KAAN,eACM,KAAN,0DACM,KAAN,yDACQ,OAAR,kBACA,kBACQ,QAAR,oCAEQ,IAAR,4BACU,OAAV,iBACY,OAAZ,OAGQ,EAAR,YACQ,EAAR,yBACQ,EAAR,mBAGI,sBAnBJ,WAmBM,IAAN,OACM,OAAN,2BACQ,EAAR,2CACU,OAAV,CACY,KAAZ,oBAEA,kBACU,EAAV,WACA,mBACU,QAAV,OACU,EAAV,UAKI,aAlCJ,WAmCM,KAAN,kBACM,KAAN,gBAEI,iBAtCJ,SAsCA,GACM,KAAN,mBACM,KAAN,gBAEI,oBA1CJ,SA0CA,GACM,KAAN,kBACM,KAAN,gBAEI,UA9CJ,WA+CM,KAAN,UACQ,GAAR,GACQ,YAAR,GACQ,YAAR,GACQ,WAAR,GACQ,aAAR,GACQ,UAAR,GACQ,WAAR,GACQ,YAAR,GACQ,OAAR,KAII,YA5DJ,WA4DM,IAAN,OACM,KAAN,mDACQ,QAAR,6BACQ,WAAR,2BACA,kBACQ,QAAR,OACQ,EAAR,yBAEQ,EAAR,eACQ,EAAR,uBAII,WAzEJ,WA0EM,KAAN,eACM,KAAN,cAEI,aA7EJ,SA6EA,GAAM,IAAN,OACM,QAAN,OACM,KAAN,iCAEM,KAAN,sBACM,KAAN,qBACM,KAAN,sBACQ,EAAR,sCAGI,WAvFJ,WAuFM,IAAN,OACM,KAAN,wCACA,GACU,EAAV,uDACY,GAAZ,cACY,YAAZ,uBACY,YAAZ,uBACY,WAAZ,sBACY,aAAZ,wBACY,UAAZ,qBACY,WAAZ,sBACY,YAAZ,uBACY,OAAZ,oBACA,kBACY,QAAZ,OACY,EAAZ,qBACY,EAAZ,2BACY,EAAZ,kBACA,mBACY,QAAZ,OACY,EAAZ,kGAKI,sBAhHJ,SAgHA,GACM,KAAN,oBACM,QAAN,QAEI,qBApHJ,WAoHM,IAAN,OACM,KAAN,uBACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,YACA,iBACQ,EAAR,kDACU,OAAV,YAEA,kBACQ,EAAR,UACU,KAAV,OACU,QAAV,cAII,aApIJ,SAoIA,GAAM,IAAN,OACM,QAAN,OACM,KAAN,uBACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,YACA,iBAEQ,EAAR,4BACA,kBACQ,EAAR,UACU,KAAV,OACU,QAAV,cAII,aApJJ,SAoJA,GAAM,IAAN,OACM,KAAN,qDACQ,KAAR,CACU,GAAV,KAEA,kBACQ,QAAR,OACQ,EAAR,qBACQ,EAAR,yBACQ,EAAR,kBACA,mBACQ,QAAR,OACQ,EAAR,+FAII,OApKJ,WAqKM,KAAN,+BAEI,OAvKJ,WAwKM,KAAN,gBAEI,MA1KJ,WA2KM,KAAN,yBAGI,eA9KJ,SA8KA,GACM,QAAN,OACM,KAAN,qBAEI,eAlLJ,SAkLA,GACM,KAAN,4BAEI,qBArLJ,SAqLA,GACM,KAAN,8EAGI,gBAzLJ,SAyLA,GACM,KAAN,mEACM,MAAN,sBAEI,iBA7LJ,SA6LA,GACM,KAAN,oDAAQ,OAAR,uBACM,KAAN,2BAEI,wBAjMJ,SAiMA,GACM,KAAN,+BAEI,sBApMJ,WAqMM,KAAN,sBACM,KAAN,0BAII,cA1MJ,SA0MA,KAAM,IAAN,OACM,KAAN,WAYM,KAAN,8DACQ,OAAR,CACU,KAAV,qBAEA,kBACQ,QAAR,OACQ,EAAR,WAEQ,IAAR,KACA,oBACU,EAAV,4BACY,EAAZ,sBACc,MAAd,aAIU,QAAV,WAEU,EAAV,QAMI,eA/OJ,SA+OA,OACM,QAAN,aACM,QAAN,gBACM,QAAN,cCrd+V,I,wBCQ3VC,EAAY,eACd,EACAtE,EACAqE,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-5e9168dc.afb8604b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maoyan.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"app-container\"},[_c('CommonQuery',[_c('template',{slot:\"button1\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.oneKeyCrawlFlag=true}}},[_vm._v(\" 一键抓取 \")]),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.handleMultipleDelete}},[_vm._v(\" 批量删除 \")])],1),_c('template',{slot:\"query1\"},[_c('div',{staticClass:\"common_search_wrapper\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search.apply(null, arguments)}}},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.queryModel.brandName),expression:\"queryModel.brandName\"}],attrs:{\"placeholder\":\"请输入游戏名称\",\"type\":\"text\"},domProps:{\"value\":(_vm.queryModel.brandName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.queryModel, \"brandName\", $event.target.value)}}})]),_c('a',[_c('span',{staticClass:\"el-icon-search\",on:{\"click\":_vm.search}})])])])],2),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.tableList,\"height\":_vm.tableHeight,\"border\":\"\",\"element-loading-text\":\"Loading\",\"fit\":\"\",\"highlight-current-row\":\"\"},on:{\"row-click\":_vm.handleClickRow,\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"fixed\":\"\",\"label\":\"No\",\"type\":\"index\",\"width\":\"45\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"电影名称\",\"prop\":\"movieName\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"抓取时间\",\"prop\":\"timestamp\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.$moment(Number(scope.row.timestamp)).format('YYYY-MM-DD HH:mm:ss'))+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"综合票房（万）\",\"prop\":\"boxInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"票房占比\",\"prop\":\"boxRate\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"总票房\",\"prop\":\"sumBoxInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"分账综合票房（万）\",\"prop\":\"splitBoxInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"分账票房占比\",\"prop\":\"splitBoxRate\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"分账总票房\",\"prop\":\"splitSumBoxInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"上映情况\",\"prop\":\"releaseInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"上座率\",\"prop\":\"seatRate\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"排片场次\",\"prop\":\"showInfo\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"排片占比\",\"prop\":\"showRate\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"场均人次\",\"prop\":\"avgShowView\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"common_pagination_wrapper\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.page,\"page-size\":_vm.pagination.limit,\"page-sizes\":[10,20,30,50,100],\"total\":_vm.total,\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"page\", $event)},\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.oneKeyCrawlFlag,\"width\":\"850px\"},on:{\"update:visible\":function($event){_vm.oneKeyCrawlFlag=$event}}},[_c('el-row',{attrs:{\"justify\":\"center\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"爬虫类型\",\"prop\":\"rewardType\"}},[_c('el-select',{attrs:{\"placeholder\":\"\"},on:{\"change\":_vm.chooseRewardType},model:{value:(_vm.formData.rewardType),callback:function ($$v) {_vm.$set(_vm.formData, \"rewardType\", $$v)},expression:\"formData.rewardType\"}},_vm._l((_vm.settingsList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"爬虫地址\",\"prop\":\"crawlerAddress\"}},[_c('el-input',{model:{value:(_vm.formData.crawlerAddress),callback:function ($$v) {_vm.$set(_vm.formData, \"crawlerAddress\", $$v)},expression:\"formData.crawlerAddress\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],on:{\"click\":function($event){_vm.oneKeyCrawlFlag = false}}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.crawlerData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-row class=\"app-container\">\r\n    <CommonQuery>\r\n      <template slot=\"button1\">\r\n        <el-button @click=\"oneKeyCrawlFlag=true\" icon=\"el-icon-plus\" size=\"mini\" type=\"primary\" v-waves>\r\n          一键抓取\r\n        </el-button>\r\n        <el-button @click=\"handleMultipleDelete\" icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" v-waves>\r\n          批量删除\r\n        </el-button>\r\n      </template>\r\n      <template slot=\"query1\">\r\n        <div @keyup.enter=\"search\" class=\"common_search_wrapper\">\r\n          <label>\r\n            <input placeholder=\"请输入游戏名称\" type=\"text\" v-model=\"queryModel.brandName\"/>\r\n          </label>\r\n          <a>\r\n            <span @click=\"search\" class=\"el-icon-search\"></span>\r\n          </a>\r\n        </div>\r\n      </template>\r\n    </CommonQuery>\r\n\r\n    <el-table :data=\"tableList\" :height=\"tableHeight\" @row-click=\"handleClickRow\"\r\n              @selection-change=\"handleSelectionChange\"\r\n              border\r\n              element-loading-text=\"Loading\"\r\n              fit\r\n              highlight-current-row\r\n              v-loading.body=\"listLoading\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"40\"></el-table-column>\r\n      <el-table-column align=\"center\" fixed label=\"No\" type=\"index\" width=\"45\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"电影名称\" prop='movieName' width=\"200\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"抓取时间\" prop='timestamp' width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          {{$moment(Number(scope.row.timestamp)).format('YYYY-MM-DD HH:mm:ss')}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"综合票房（万）\" prop='boxInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"票房占比\" prop='boxRate'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"总票房\" prop='sumBoxInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"分账综合票房（万）\" prop='splitBoxInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"分账票房占比\" prop='splitBoxRate'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"分账总票房\" prop='splitSumBoxInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"上映情况\" prop='releaseInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"上座率\" prop='seatRate'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"排片场次\" prop='showInfo'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"排片占比\" prop='showRate'></el-table-column>\r\n      <el-table-column align=\"center\" label=\"场均人次\" prop='avgShowView'></el-table-column>\r\n\r\n      <el-table-column align=\"center\" label=\"操作\" width=\"100px\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"handleDelete(scope)\" size=\"mini\" type=\"danger\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"common_pagination_wrapper\">\r\n      <el-pagination :current-page.sync=\"pagination.page\" :page-size=\"pagination.limit\"\r\n                     :page-sizes=\"[10,20,30,50,100]\"\r\n                     :total=\"total\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     background\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 编辑 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"oneKeyCrawlFlag\" width=\"850px\">\r\n      <el-row justify=\"center\" type=\"flex\">\r\n        <el-col :span=\"20\">\r\n          <el-form :model=\"formData\" :rules=\"rules\" label-position=\"right\"\r\n                   label-width=\"140px\"\r\n                   ref=\"formData\">\r\n            <el-form-item label=\"爬虫类型\" prop=\"rewardType\">\r\n              <el-select @change=\"chooseRewardType\" placeholder='' v-model=\"formData.rewardType\">\r\n                <el-option :key=\"item.code\"\r\n                           :label=\"item.name\" :value=\"item.value\"\r\n                           v-for=\"item in settingsList\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"爬虫地址\" prop=\"crawlerAddress\">\r\n              <el-input v-model=\"formData.crawlerAddress\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"oneKeyCrawlFlag = false\" v-waves>{{$t('table.cancel')}}</el-button>\r\n        <el-button @click=\"crawlerData\" type=\"primary\" v-waves>{{$t('table.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\n  import CommonQuery from '@/views/common/CommonQuery.vue'\r\n\r\n  export default {\r\n    components: {\r\n      CommonQuery\r\n    },\r\n    data() {\r\n      return {\r\n        getListByPaginationRequest: 'crawlerMaoyanBoxOffice/getListByPagination',\r\n        crawlAndSaveRequest: 'crawlerMaoyanBoxOffice/crawlAndSave',\r\n        deleteRecordRequest: 'crawlerMaoyanBoxOffice/deleteRecords',\r\n        getSettingsRequest: 'settings/getList',\r\n        crawlerSettingFlag: false,\r\n        crawlerSetting: {\r\n          address: ''\r\n        },\r\n        chosenReward: '',\r\n        chooseRewardTypeModel: {},\r\n        chosenThirdPartyProductInfo: {},\r\n\r\n        value2: '',\r\n        value1: '',\r\n        dailyLimitMode: '',\r\n        limitMode: '',\r\n        tableKey: 0,\r\n        tableList: [],\r\n        total: null,\r\n        listLoading: true,\r\n        availabilityFlag: false,\r\n\r\n        statusDictionary: [{\r\n          code: 0,\r\n          name: '未上线'\r\n        }, {\r\n          code: 1,\r\n          name: '上线'\r\n        }],\r\n        queryModel: {\r\n          sort: 'desc',\r\n          brandName: ''\r\n        },\r\n        pagination: {\r\n          page: 1,\r\n          limit: 50\r\n        },\r\n        importanceOptions: [1, 2, 3],\r\n\r\n        sortOptions: [{ label: 'ID Ascending', key: '+id' }, { label: 'ID Descending', key: '-id' }],\r\n        statusOptions: ['published', 'draft', 'deleted'],\r\n        showReviewer: false,\r\n        formData: {\r\n          headerCode: 'maoyan',\r\n          crawlerAddress: ''\r\n        },\r\n        dialogFormVisible: false,\r\n        dialogStatus: '',\r\n        textMap: {\r\n          update: 'Edit',\r\n          create: 'Create'\r\n        },\r\n        dialogPvVisible: false,\r\n        rules: {\r\n          id: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          description: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          name: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          dailyLimit: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          limit: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          startDate: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          endDate: [{ required: true, message: '此项为必填项', trigger: 'change' }],\r\n          status: [{ required: true, message: '此项为必填项', trigger: 'change' }]\r\n        },\r\n        downloadLoading: false,\r\n        pickerOptions0: {\r\n          disabledDate: (time) => {\r\n            if (this.value2 !== '') {\r\n              return time.getTime() > this.value2\r\n            }\r\n          }\r\n        },\r\n        pickerOptions1: {\r\n          disabledDate: (time) => {\r\n            return time.getTime() < this.value1\r\n          }\r\n        },\r\n        fileList: [],\r\n        portraitParams: {\r\n          bucketName: 'funyvalley',\r\n          folderName: 'icon'\r\n        },\r\n        iosVersionListData: [],\r\n        androidVersionListData: [],\r\n        searchTxt: '',\r\n        expandQuery: '',\r\n        showFileListFlag: false,\r\n        newFile: '',\r\n        advertisementDialogFlag: false,\r\n        currentAdvertisementTabIndex: 0,\r\n        effectiveDuration: [],\r\n        multipleSelection: [],\r\n        oneKeyCrawlFlag: false,\r\n        settingsList: []\r\n      }\r\n    },\r\n    computed: {\r\n      tableHeight() {\r\n        return this.$store.state.app.tableHeight\r\n      },\r\n      dictionaryList() {\r\n        return this.$store.state.app.dictionary.crawlerAddress\r\n      }\r\n    },\r\n    watch: {\r\n      effectiveDuration(value) {\r\n        console.log(value)\r\n        if (value === null) {\r\n          value = []\r\n        }\r\n        this.formData.startDate = this.$moment(value[0]).format('YYYY-MM-DD')\r\n        this.formData.endDate = this.$moment(value[1]).format('YYYY-MM-DD')\r\n      },\r\n      currentAdvertisementTabIndex(value) {\r\n        console.log(value)\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.settingsList = await this.getSettingsDictionary()\r\n      this.getTableData()\r\n    },\r\n    methods: {\r\n      getTableData() {\r\n        this.listLoading = true\r\n        this.queryModel = Object.assign(this.queryModel, this.pagination)\r\n        this.$http.get(this.$baseUrl + this.getListByPaginationRequest, {\r\n          params: this.queryModel\r\n        }).then(response => {\r\n          console.log('getListByPaginationRequest', response)\r\n\r\n          let data = response.data.map((item, index) => {\r\n            return Object.assign(item, {\r\n              _index: index\r\n            })\r\n          })\r\n          this.tableList = data\r\n          this.total = response.pagination.total\r\n          this.listLoading = false\r\n        })\r\n      },\r\n      getSettingsDictionary() {\r\n        return new Promise((resolve, reject) => {\r\n          this.$http.get(this.$baseUrl + this.getSettingsRequest, {\r\n            params: {\r\n              type: 'crawlerAddress'\r\n            }\r\n          }).then(response => {\r\n            resolve(response.data)\r\n          }).catch(error => {\r\n            console.log(error)\r\n            reject(error)\r\n          })\r\n        })\r\n\r\n      },\r\n      handleFilter() {\r\n        this.pagination.page = 1\r\n        this.getTableData()\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pagination.limit = val\r\n        this.getTableData()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pagination.page = val\r\n        this.getTableData()\r\n      },\r\n      resetTemp() {\r\n        this.formData = {\r\n          id: '',\r\n          description: '',\r\n          rewardImage: '',\r\n          rewardName: '',\r\n          rewardPrompt: '',\r\n          rewardStr: '',\r\n          rewardType: '',\r\n          rewardValue: '',\r\n          status: ''\r\n        }\r\n\r\n      },\r\n      crawlerData() {\r\n        this.$http.post(this.$baseUrl + this.crawlAndSaveRequest, {\r\n          address: this.formData.crawlerAddress,\r\n          headerCode: this.formData.headerCode\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.$message.success('抓取成功')\r\n\r\n          this.getTableData()\r\n          this.oneKeyCrawlFlag = false\r\n\r\n        })\r\n      },\r\n      createData() {\r\n        this.formData.id = ''\r\n        this.updateData()\r\n      },\r\n      handleUpdate(scope) {\r\n        console.log(scope)\r\n        this.formData = Object.assign({}, scope.row)\r\n\r\n        this.dialogStatus = 'update'\r\n        this.dialogFormVisible = true\r\n        this.$nextTick(() => {\r\n          this.$refs['formData'].clearValidate()\r\n        })\r\n      },\r\n      updateData() {\r\n        this.$refs['formData'].validate((valid) => {\r\n          if (valid) {\r\n            this.$http.post(this.$baseUrl + this.addAndUpdateRewardInfoRequest, {\r\n              id: this.formData.id,\r\n              description: this.formData.description,\r\n              rewardImage: this.formData.rewardImage,\r\n              rewardName: this.formData.rewardName,\r\n              rewardPrompt: this.formData.rewardPrompt,\r\n              rewardStr: this.formData.rewardStr,\r\n              rewardType: this.formData.rewardType,\r\n              rewardValue: this.formData.rewardValue,\r\n              status: this.formData.status\r\n            }).then((response) => {\r\n              console.log(response)\r\n              this.dialogFormVisible = false\r\n              this.$message.success('信息修改成功')\r\n              this.getTableData()\r\n            }).catch(error => {\r\n              console.log(error)\r\n              this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n            })\r\n          }\r\n        })\r\n      },\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = val\r\n        console.log(val)\r\n      },\r\n      handleMultipleDelete() {\r\n        this.$confirm('确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.deleteRecord(this.multipleSelection.map(item => {\r\n            return item.id\r\n          }))\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n      },\r\n      handleDelete(scope) {\r\n        console.log(scope)\r\n        this.$confirm('确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n\r\n          this.deleteRecord([scope.row.id])\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n      },\r\n      deleteRecord(data) {\r\n        this.$http.delete(this.$baseUrl + this.deleteRecordRequest, {\r\n          data: {\r\n            id: data\r\n          }\r\n        }).then((response) => {\r\n          console.log(response)\r\n          this.dialogFormVisible = false\r\n          this.$message.success('删除成功')\r\n          this.getTableData()\r\n        }).catch(error => {\r\n          console.log(error)\r\n          this.$message.error(`${error.response.status.toString()}  ${error.response.data.error}`)\r\n        })\r\n      },\r\n\r\n      expand() {\r\n        this.expandQuery = !this.expandQuery\r\n      },\r\n      search() {\r\n        this.getTableData()\r\n      },\r\n      reset() {\r\n        this.queryModel.available = true\r\n      },\r\n\r\n      uploadSuccess1(response) {\r\n        console.log(response)\r\n        this.formData.icon = response.url\r\n      },\r\n      uploadSuccess2(response) {\r\n        this.formData.rewardImage = response.url\r\n      },\r\n      changeDailyLimitMode(data) {\r\n        this.formData.dailyLimit = data.toString() === 'unlimited' ? '-1' : this.formData.dailyLimit\r\n\r\n      },\r\n      changeLimitMode(data) {\r\n        this.formData.limit = data.toString() === 'unlimited' ? '-1' : this.formData.limit\r\n        alert(this.formData.limit)\r\n      },\r\n      chooseRewardType(data) {\r\n        this.formData.type = this.settingsList.filter(item => item.value === data)[0].code\r\n        this.formData.crawlerAddress = data\r\n      },\r\n      chooseThirdPartyProduct(data) {\r\n        this.chosenThirdPartyProductInfo = data\r\n      },\r\n      confirmCrawlerSetting() {\r\n        this.crawlerSettingFlag = false\r\n        this.$message.success('设置成功')\r\n\r\n      },\r\n\r\n      focusSortList(queryString, callback) {\r\n        this.loading = true\r\n\r\n        // this.queryModel = Object.assign(this.queryModel, {\r\n        //   limit: 999,\r\n        //   page: 1,\r\n        //   status: 1,\r\n        //   title: '',\r\n        //   description: '',\r\n        //   gameTypeId: '',\r\n        // });\r\n        // console.log(this.queryModel)\r\n\r\n        this.$http.get(this.$baseUrl + this.queryRewardProductByNameRequest, {\r\n          params: {\r\n            name: this.chosenReward\r\n          }\r\n        }).then(response => {\r\n          console.log(response)\r\n          this.loading = false\r\n          // this.total = response.total;\r\n          let result = []\r\n          if (response.data.length !== 0) {\r\n            response.data.forEach((item, index) => {\r\n              result.push(Object.assign(item, {\r\n                value: item.name\r\n              }))\r\n            })\r\n\r\n            console.log(111, result)\r\n\r\n            callback(result)\r\n\r\n          }\r\n\r\n        })\r\n      },\r\n      handleClickRow(row, column, e) {\r\n        console.log('row', row)\r\n        console.log('column', column)\r\n        console.log('e', e)\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  @import '../../styles/edifice.scss';\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maoyan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maoyan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Maoyan.vue?vue&type=template&id=44187704&\"\nimport script from \"./Maoyan.vue?vue&type=script&lang=js&\"\nexport * from \"./Maoyan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Maoyan.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}