(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"02K0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={name:"CommonQuery",props:{queryModel:{type:Object,default:function e(){return{}}},expandQuery:{type:Object,default:function e(){return{}}},expand:{type:Boolean,default:false}},data:function e(){return{expandFlag:false}},watch:{queryModel:function e(){},expand:function e(t){this.expandFlag=t}},methods:{search:function e(){},reset:function e(){this.$emit("reset")},handleExpand:function e(){this.expandFlag=!this.expandFlag;console.log(this.expandFlag)}}}},"1uSF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a("P2sY");var o=c(n);var i=a("qPSc");var r=c(i);var l=a("O4qd");var s=c(l);function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{CommonTag:r.default,CommonQuery:s.default},data:function e(){var a=this;return{getListRequest:"dictionary/getList",createOrUpdateRequest:"dictionary/createOrUpdate",deleteItemRequest:"dictionary/deleteItem",tableList:[],total:null,listLoading:true,queryModel:{sort:"desc",typeCode:""},pagination:{page:1,limit:50},sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],formData:{dictionaryId:"",typeName:"",typeCode:"",name:"",code:""},typeFormData:{name:"",code:""},typeList:[],dialogFormVisible:false,createDialogFormVisible:false,addTypeFlag:false,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:false,rules:{typeCode:[{required:true,message:"此项为必填项",trigger:"change"}],name:[{required:true,message:"此项为必填项",trigger:"change"}],code:[{required:true,message:"此项为必填项",trigger:"change"}]},pickerOptions1:{disabledDate:function e(t){return t.getTime()<a.value1}},fileList:[],portraitParams:{bucketName:"funyvalley",folderName:"icon"},expandQuery:""}},computed:{tableHeight:function e(){return this.$store.state.app.tableHeight}},watch:{effectiveDuration:function e(t){console.log(t);if(t===null){t=[]}this.formData.startDate=this.$moment(t[0]).format("YYYY-MM-DD");this.formData.endDate=this.$moment(t[1]).format("YYYY-MM-DD")},currentAdvertisementTabIndex:function e(t){console.log(t)}},mounted:function e(){this.getTableData()},methods:{getTableData:function e(){var t=this;this.listLoading=true;this.queryModel=(0,o.default)(this.queryModel,this.pagination);this.$http.get(this.$baseUrl+this.getListRequest,{params:this.queryModel}).then(function(e){console.log("getListByPaginationRequest",e);t.tableList=e.data;t.total=e.pagination.total;t.listLoading=false})},getTypeList:function e(){var a=[];this.tableList.forEach(function(t){if(a.filter(function(e){return e.code===t.typeCode}).length===0){a.push({name:t.typeName,code:t.typeCode})}});console.log(a);this.typeList=a},handleFilter:function e(){this.pagination.page=1;this.getTableData()},handleSizeChange:function e(t){this.pagination.limit=t;this.getTableData()},handleCurrentChange:function e(t){this.pagination.page=t;this.getTableData()},resetTemp:function e(){this.formData={dictionaryId:"",typeCode:"",typeName:"",name:"",code:""}},handleCreate:function e(){this.resetTemp();this.getTypeList();console.log(this.typeList);this.createDialogFormVisible=true},createData:function e(){this.handleUpdate()},handleUpdate:function e(t){var a=this;console.log(t);this.getTypeList();console.log(this.typeList);this.$nextTick(function(){a.formData=(0,o.default)({},t.row);a.dialogStatus="update";a.dialogFormVisible=true;a.$nextTick(function(){a.$refs["formData"].clearValidate()})})},chooseType:function e(t){this.formData.typeName=this.typeList.filter(function(e){return e.code===t})[0].name},updateData:function e(){var t=this;this.$refs["formData"].validate(function(e){if(e){t.$http.post(t.$baseUrl+t.createOrUpdateRequest,{dictionaryId:t.formData.dictionaryId,headerId:t.formData.headerId,name:t.formData.name,typeCode:t.formData.typeCode,typeName:t.formData.typeName,code:t.formData.code}).then(function(e){console.log(e);t.dialogFormVisible=false;t.createDialogFormVisible=false;t.$message.success("信息修改成功");t.getTableData()}).catch(function(e){console.log(e);t.$message.error(e.response.status.toString()+"  "+e.response.data.error)})}})},createType:function e(){var t=this;if(this.typeList.filter(function(e){return e.code===t.typeFormData.code}).length===0){this.typeList.push(this.typeFormData);this.addTypeFlag=false}else{this.$message.warning("当前type已存在")}},handleSelectionChange:function e(t){this.multipleSelection=t;console.log(t)},handleMultipleDelete:function e(){var t=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteRecord(t.multipleSelection.map(function(e){return e.id}))}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleDelete:function e(t){var a=this;console.log(t);this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRecord([t.row.id])}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deleteRecord:function e(t){var a=this;this.$http.delete(this.$baseUrl+this.deleteItemRequest,{data:{id:t}}).then(function(e){console.log(e);a.dialogFormVisible=false;a.$message.success("删除成功");a.getTableData()}).catch(function(e){console.log(e);a.$message.error(e.response.status.toString()+"  "+e.response.data.error)})},expand:function e(){this.expandQuery=!this.expandQuery},search:function e(){this.getTableData()},reset:function e(){this.queryModel.available=true},uploadSuccess1:function e(t){console.log(t);this.formData.icon=t.url},uploadSuccess2:function e(t){this.formData.rewardImage=t.url},changeDailyLimitMode:function e(t){this.formData.dailyLimit=t.toString()==="unlimited"?"-1":this.formData.dailyLimit},changeLimitMode:function e(t){this.formData.limit=t.toString()==="unlimited"?"-1":this.formData.limit;alert(this.formData.limit)},chooseRewardType:function e(t){console.log(t)},chooseThirdPartyProduct:function e(t){this.chosenThirdPartyProductInfo=t},confirmCrawlerSetting:function e(){this.crawlerSettingFlag=false;this.$message.success("设置成功")},focusSortList:function e(t,n){var i=this;this.loading=true;this.$http.get(this.$baseUrl+this.queryRewardProductByNameRequest,{params:{name:this.chosenReward}}).then(function(e){console.log(e);i.loading=false;var a=[];if(e.data.length!==0){e.data.forEach(function(e,t){a.push((0,o.default)(e,{value:e.name}))});console.log(111,a);n(a)}})}}}},EDYP:function(e,t,a){"use strict";var n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"common-querytable-wrapper"},[a("div",{staticClass:"queryform-wrapper"},[a("div",{staticClass:"outside"},[a("el-form",{staticClass:"basearea"},[a("ul",{staticClass:"pull-left"},[a("li",[e._t("button1")],2)])]),e._v(" "),a("ul",{staticClass:"operation-wrapper pull-right"},[a("li",[e._t("query1")],2),e._v(" "),a("li",[e._t("query2")],2),e._v(" "),a("li",[e._t("query3")],2),e._v(" "),e.expand?a("li",[a("el-button",{staticClass:"expand",attrs:{size:"mini",type:"text"},on:{click:e.handleExpand}},[e._v("高级搜索"),a("i",{staticClass:"el-icon-arrow-down"})])],1):e._e()])],1),e._v(" "),a("div",{staticClass:"expandarea",class:{active:e.expandFlag}},[a("el-form",{ref:"form",attrs:{model:e.queryModel,size:"mini","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[e._t("query4")],2),e._v(" "),a("el-col",{attrs:{span:8}}),e._v(" "),a("el-col",{attrs:{span:8}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}}),e._v(" "),a("el-col",{attrs:{span:8}}),e._v(" "),a("el-col",{attrs:{span:8}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:23,"pull-right":""}},[a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置\n              ")])],1)],1)],1)],1)],1)])])};var i=[];n._withStripped=true;a.d(t,"a",function(){return n});a.d(t,"b",function(){return i})},GCLS:function(e,t,a){"use strict";var n=a("kdsm");var i=a.n(n);var o=i.a},J2dw:function(e,t,a){"use strict";var n=function(){var a=this;var e=a.$createElement;var n=a._self._c||e;return n("el-row",{staticClass:"app-container"},[n("CommonQuery",[n("template",{slot:"button1"},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:a.handleCreate}},[a._v("\n        新建\n      ")]),a._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:a.handleMultipleDelete}},[a._v("\n        批量删除\n      ")])],1),a._v(" "),n("template",{slot:"query1"},[n("div",{staticClass:"common-search-wrapper",on:{keyup:function(e){if(!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")){return null}return a.search(e)}}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:a.queryModel.brandName,expression:"queryModel.brandName"}],attrs:{placeholder:"请输入游戏名称",type:"text"},domProps:{value:a.queryModel.brandName},on:{input:function(e){if(e.target.composing){return}a.$set(a.queryModel,"brandName",e.target.value)}}})]),a._v(" "),n("a",[n("span",{staticClass:"el-icon-search",on:{click:a.search}})])])])],2),a._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:a.listLoading,expression:"listLoading",modifiers:{body:true}}],attrs:{data:a.tableList,height:a.tableHeight,border:"","element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"selection-change":a.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"40"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",fixed:"",label:"No",type:"index",width:"45"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",label:"字典项名称",prop:"name"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",label:"字典项Code",prop:"code"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",label:"类型",prop:"typeName"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",label:"类型Code",prop:"typeCode"}}),a._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return a.handleUpdate(t)}}},[a._v("编辑")]),a._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return a.handleDelete(t)}}},[a._v("删除")])]}}])})],1),a._v(" "),n("div",{staticClass:"common-pagination-wrapper"},[n("el-pagination",{attrs:{"current-page":a.pagination.page,"page-size":a.pagination.limit,"page-sizes":[10,20,30,50,100],total:a.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return a.$set(a.pagination,"page",e)},"update:current-page":function(e){return a.$set(a.pagination,"page",e)},"current-change":a.handleCurrentChange,"size-change":a.handleSizeChange}})],1),a._v(" "),n("el-dialog",{attrs:{title:a.textMap[a.dialogStatus],visible:a.createDialogFormVisible,width:"850px"},on:{"update:visible":function(e){a.createDialogFormVisible=e}}},[n("el-row",{attrs:{justify:"center",type:"flex"}},[n("el-col",{attrs:{span:20}},[n("el-form",{ref:"formData",attrs:{model:a.formData,rules:a.rules,"label-position":"right","label-width":"140px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:a.formData.name,callback:function(e){a.$set(a.formData,"name",e)},expression:"formData.name"}})],1),a._v(" "),n("el-form-item",{attrs:{label:"Code",prop:"code"}},[n("el-input",{model:{value:a.formData.code,callback:function(e){a.$set(a.formData,"code",e)},expression:"formData.code"}})],1),a._v(" "),n("el-row",{attrs:{gutter:1}},[n("el-col",{attrs:{span:16}},[n("el-form-item",{attrs:{label:"类型",prop:"typeCode"}},[n("el-select",{style:{width:"100%"},attrs:{placeholder:""},on:{change:a.chooseType},model:{value:a.formData.typeCode,callback:function(e){a.$set(a.formData,"typeCode",e)},expression:"formData.typeCode"}},a._l(a.typeList,function(e){return n("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1),a._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){a.addTypeFlag=true}}},[a._v("新增类型")])],1)],1)],1)],1)],1),a._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(e){a.dialogFormVisible=false}}},[a._v(a._s(a.$t("table.cancel")))]),a._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:a.updateData}},[a._v(a._s(a.$t("table.confirm")))])],1)],1),a._v(" "),n("el-dialog",{attrs:{title:a.textMap[a.dialogStatus],visible:a.dialogFormVisible,width:"850px"},on:{"update:visible":function(e){a.dialogFormVisible=e}}},[n("el-row",{attrs:{justify:"center",type:"flex"}},[n("el-col",{attrs:{span:20}},[n("el-form",{ref:"formData",attrs:{model:a.formData,rules:a.rules,"label-position":"right","label-width":"140px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:a.formData.name,callback:function(e){a.$set(a.formData,"name",e)},expression:"formData.name"}})],1),a._v(" "),n("el-form-item",{attrs:{label:"Code",prop:"code"}},[n("el-input",{model:{value:a.formData.code,callback:function(e){a.$set(a.formData,"code",e)},expression:"formData.code"}})],1),a._v(" "),n("el-row",{attrs:{gutter:1}},[n("el-col",{attrs:{span:16}},[n("el-form-item",{attrs:{label:"类型",prop:"typeCode"}},[n("el-select",{style:{width:"100%"},attrs:{placeholder:""},on:{change:a.chooseType},model:{value:a.formData.typeCode,callback:function(e){a.$set(a.formData,"typeCode",e)},expression:"formData.typeCode"}},a._l(a.typeList,function(e){return n("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1),a._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){a.addTypeFlag=true}}},[a._v("新增类型")])],1)],1)],1)],1)],1),a._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(e){a.dialogFormVisible=false}}},[a._v(a._s(a.$t("table.cancel")))]),a._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:a.updateData}},[a._v(a._s(a.$t("table.confirm")))])],1)],1),a._v(" "),n("el-dialog",{attrs:{title:a.textMap[a.dialogStatus],visible:a.addTypeFlag,width:"850px"},on:{"update:visible":function(e){a.addTypeFlag=e}}},[n("el-row",{attrs:{justify:"center",type:"flex"}},[n("el-col",{attrs:{span:20}},[n("el-form",{ref:"typeFormData",attrs:{model:a.typeFormData,rules:a.rules,"label-position":"right","label-width":"140px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:a.typeFormData.name,callback:function(e){a.$set(a.typeFormData,"name",e)},expression:"typeFormData.name"}})],1),a._v(" "),n("el-col",[n("el-form-item",{attrs:{label:"Code",prop:"code"}},[n("el-input",{model:{value:a.typeFormData.code,callback:function(e){a.$set(a.typeFormData,"code",e)},expression:"typeFormData.code"}})],1)],1)],1)],1)],1),a._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(e){a.addTypeFlag=false}}},[a._v(a._s(a.$t("table.cancel")))]),a._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:a.createType}},[a._v(a._s(a.$t("table.confirm")))])],1)],1)],1)};var i=[];n._withStripped=true;a.d(t,"a",function(){return n});a.d(t,"b",function(){return i})},O4qd:function(e,t,a){"use strict";a.r(t);var n=a("EDYP");var i=a("vPuT");for(var o in i)if(o!=="default")(function(e){a.d(t,e,function(){return i[e]})})(o);var r=a("KHd+");var l=Object(r["a"])(i["default"],n["a"],n["b"],false,null,"63580e73",null);if(false){var s}l.options.__file="src/views/common/CommonQuery.vue";t["default"]=l.exports},OrYe:function(e,t,a){"use strict";a.r(t);var n=a("1uSF");var i=a.n(n);for(var o in n)if(o!=="default")(function(e){a.d(t,e,function(){return n[e]})})(o);t["default"]=i.a},RzdK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a("m1cH");var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CommonTag",props:{metaData:{type:Array,default:function e(){return[]},required:false},title:{type:String,default:"",required:false},tagData:{type:Array,default:[],required:false},buttonText:{type:String,default:"+",required:false}},data:function e(){return{dynamicTags:[],inputVisible:false,inputValue:""}},watch:{tagData:function e(t){console.log(t);if(t.length>=0){this.dynamicTags=t}else{this.$message.error("tag列表数据类型不正确")}}},mounted:function e(){this.dynamicTags=this.tagData},methods:{handleInputConfirm:function e(){var t=this;var a=this.inputValue;if(a){this.dynamicTags.push(a)}this.inputVisible=false;this.inputValue="";this.$emit.apply(this,["add",this.dynamicTags].concat((0,i.default)(t.metaData)))},handleClose:function e(t){var a=this;this.$emit.apply(this,["delete",t,this.dynamicTags.indexOf(t)].concat((0,i.default)(a.metaData)));this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},showInput:function e(){var t=this;this.inputVisible=true;this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})}}}},btSa:function(e,t,a){"use strict";var n=function(){var a=this;var e=a.$createElement;var n=a._self._c||e;return n("el-row",{staticClass:"common-tag-wrapper"},[n("el-col",{attrs:{span:2}},[a._v(a._s(a.title))]),a._v(" "),n("el-col",{attrs:{span:22}},[a._l(a.dynamicTags,function(t,e){return n("el-tag",{key:e,attrs:{closable:"","disable-transitions":false},on:{close:function(e){return a.handleClose(t)}}},[a._v("\n      "+a._s(t)+"\n    ")])}),a._v(" "),a.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input",attrs:{size:"small"},on:{blur:a.handleInputConfirm},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")){return null}return a.handleInputConfirm(e)}},model:{value:a.inputValue,callback:function(e){a.inputValue=e},expression:"inputValue"}}):n("el-button",{ref:"saveTagInput",staticClass:"button",attrs:{size:"small"},on:{blur:a.handleInputConfirm,click:a.showInput},nativeOn:{keyup:function(e){if(!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")){return null}return a.handleInputConfirm(e)}},model:{value:a.inputValue,callback:function(e){a.inputValue=e},expression:"inputValue"}},[a._v("添加版本\n    ")])],2)],1)};var i=[];n._withStripped=true;a.d(t,"a",function(){return n});a.d(t,"b",function(){return i})},hcDs:function(e,t,a){"use strict";a.r(t);var n=a("RzdK");var i=a.n(n);for(var o in n)if(o!=="default")(function(e){a.d(t,e,function(){return n[e]})})(o);t["default"]=i.a},kdsm:function(e,t,a){if(false){var n}},lBDw:function(e,t,a){"use strict";a.r(t);var n=a("J2dw");var i=a("OrYe");for(var o in i)if(o!=="default")(function(e){a.d(t,e,function(){return i[e]})})(o);var r=a("GCLS");var l=a("KHd+");var s=Object(l["a"])(i["default"],n["a"],n["b"],false,null,null,null);if(false){var c}s.options.__file="src/views/settings/Dictionary.vue";t["default"]=s.exports},qPSc:function(e,t,a){"use strict";a.r(t);var n=a("btSa");var i=a("hcDs");for(var o in i)if(o!=="default")(function(e){a.d(t,e,function(){return i[e]})})(o);var r=a("KHd+");var l=Object(r["a"])(i["default"],n["a"],n["b"],false,null,"9ec8b5f6",null);if(false){var s}l.options.__file="src/views/common/CommonTag.vue";t["default"]=l.exports},vPuT:function(e,t,a){"use strict";a.r(t);var n=a("02K0");var i=a.n(n);for(var o in n)if(o!=="default")(function(e){a.d(t,e,function(){return n[e]})})(o);t["default"]=i.a}}]);